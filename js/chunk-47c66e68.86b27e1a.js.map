{"version":3,"sources":["webpack:///./src/pages/data-api/my-api/detail.vue?65df","webpack:///./src/pages/data-api/my-api/detail.vue?6d7f","webpack:///src/pages/data-api/my-api/detail.vue","webpack:///./src/pages/data-api/my-api/detail.vue?21a8","webpack:///./src/pages/data-api/my-api/detail.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_detail_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_detail_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","api","name","hasBack","span","shadow","slot","_v","data","columns","detailColumns","col","staticStyle","float","size","on","change","setSumChartData","model","value","callback","$$v","timePeriodValue","expression","_l","item","key","code","label","_s","timeFreqValue","sumChartData","meta","chartMeta","id","appList","type","width","prop","scopedSlots","_u","fn","scope","click","$event","openAppChart","row","app","visible","showAppChartModal","update:visible","setAppChartData","appTimePeriodValue","appTimeFreqValue","appChartData","staticRenderFns","detailvue_type_script_lang_js_","components","DChartFactory","chart_factory","apiId","$route","params","timePeriodList","timeFreqList","chartType","showType","dataType","dim","unit","area","methods","setApi","_this","Object","api_dev","then","res","catch","$handleError","_this2","today","dateUtils","formatDate","Date","startDate","addDate","endDate","timeFreq","_this3","appId","mounted","my_api_detailvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-47c66e68.86b27e1a.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DPageContent',[_c('el-row',{staticClass:\"d-row\"},[_c('DPageHeader',{attrs:{\"title\":_vm.api.name,\"hasBack\":\"\"}})],1),_c('el-row',[_c('el-col',{staticClass:\"d-col\",attrs:{\"span\":8}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"d-card-title\"},[_vm._v(\"基础信息\")])]),_c('DDetail',{attrs:{\"data\":_vm.api,\"columns\":_vm.detailColumns,\"col\":1}})],1)],1),_c('el-col',{staticClass:\"d-col\",attrs:{\"span\":16}},[_c('el-row',{staticClass:\"d-row\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"d-card-title\"},[_vm._v(\"调用趋势\")])]),_c('el-row',{staticClass:\"d-row\"},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.setSumChartData},model:{value:(_vm.timePeriodValue),callback:function ($$v) {_vm.timePeriodValue=$$v},expression:\"timePeriodValue\"}},_vm._l((_vm.timePeriodList),function(item){return _c('el-radio-button',{key:item.code,attrs:{\"label\":item.code}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.setSumChartData},model:{value:(_vm.timeFreqValue),callback:function ($$v) {_vm.timeFreqValue=$$v},expression:\"timeFreqValue\"}},_vm._l((_vm.timeFreqList),function(item){return _c('el-radio-button',{key:item.code,attrs:{\"label\":item.code}},[_vm._v(_vm._s(item.name))])}),1)],1)]),_c('el-row',{staticClass:\"d-row\"},[_c('div',{staticClass:\"d-call-chart d-box-middle\"},[(_vm.sumChartData.length)?_c('DChartFactory',{attrs:{\"meta\":_vm.chartMeta,\"data\":_vm.sumChartData,\"id\":\"sumCall\"}}):_c('div',{staticClass:\"d-no-data-tip\"},[_vm._v(\"\\n                                暂无API调用数据\\n                            \")])],1)])],1)],1),_c('el-row',{staticClass:\"d-row\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"d-card-title\"},[_vm._v(\"已授权的应用列表\")])]),_c('el-table',{attrs:{\"data\":_vm.api.appList}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"应用名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"callCnt7\",\"label\":\"近7天调用次数\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.openAppChart(scope.row)}}},[_vm._v(\"调用趋势\")])]}}])})],1)],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":'应用[ ' + _vm.app.name + ' ]的调用趋势',\"visible\":_vm.showAppChartModal},on:{\"update:visible\":function($event){_vm.showAppChartModal=$event}}},[_c('el-row',{staticClass:\"d-row\"},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.setAppChartData},model:{value:(_vm.appTimePeriodValue),callback:function ($$v) {_vm.appTimePeriodValue=$$v},expression:\"appTimePeriodValue\"}},_vm._l((_vm.timePeriodList),function(item){return _c('el-radio-button',{key:item.code,attrs:{\"label\":item.code}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('el-radio-group',{attrs:{\"size\":\"mini\"},on:{\"change\":_vm.setAppChartData},model:{value:(_vm.appTimeFreqValue),callback:function ($$v) {_vm.appTimeFreqValue=$$v},expression:\"appTimeFreqValue\"}},_vm._l((_vm.timeFreqList),function(item){return _c('el-radio-button',{key:item.code,attrs:{\"label\":item.code}},[_vm._v(_vm._s(item.name))])}),1)],1)]),_c('el-row',{staticClass:\"d-row\"},[_c('div',{staticClass:\"d-call-chart d-box-middle\"},[(_vm.appChartData.length)?_c('DChartFactory',{attrs:{\"meta\":_vm.chartMeta,\"data\":_vm.appChartData,\"id\":\"appCall\"}}):_c('div',{staticClass:\"d-no-data-tip\"},[_vm._v(\"\\n                    暂无API调用数据\\n                \")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <DPageContent>\r\n        <el-row class=\"d-row\">\r\n            <DPageHeader :title=\"api.name\" hasBack></DPageHeader>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col class=\"d-col\" :span=\"8\">\r\n                <el-card shadow=\"never\">\r\n                    <div slot=\"header\">\r\n                        <span class=\"d-card-title\">基础信息</span>\r\n                    </div>\r\n                    <DDetail :data=\"api\" :columns=\"detailColumns\" :col=\"1\"></DDetail>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col class=\"d-col\" :span=\"16\">\r\n                <el-row class=\"d-row\">\r\n                    <el-card shadow=\"never\">\r\n                        <div slot=\"header\">\r\n                            <span class=\"d-card-title\">调用趋势</span>\r\n                        </div>\r\n                        <el-row class=\"d-row\">\r\n                            <div style=\"float: left\">\r\n                                <el-radio-group v-model=\"timePeriodValue\" size=\"mini\" @change=\"setSumChartData\">\r\n                                    <el-radio-button v-for=\"item in timePeriodList\" :label=\"item.code\" :key=\"item.code\">{{item.name}}</el-radio-button>\r\n                                </el-radio-group>\r\n                            </div>\r\n                            <div style=\"float: right\">\r\n                                <el-radio-group v-model=\"timeFreqValue\" size=\"mini\" @change=\"setSumChartData\">\r\n                                    <el-radio-button v-for=\"item in timeFreqList\" :label=\"item.code\" :key=\"item.code\">{{item.name}}</el-radio-button>\r\n                                </el-radio-group>\r\n                            </div>\r\n                        </el-row>\r\n                        <el-row class=\"d-row\">\r\n                            <div class=\"d-call-chart d-box-middle\">\r\n                                <DChartFactory v-if=\"sumChartData.length\" :meta=\"chartMeta\" :data=\"sumChartData\" id=\"sumCall\"></DChartFactory>\r\n                                <div v-else class=\"d-no-data-tip\">\r\n                                    暂无API调用数据\r\n                                </div>\r\n                            </div>\r\n                        </el-row>\r\n                    </el-card>\r\n                </el-row>\r\n                <el-row class=\"d-row\">\r\n                    <el-card shadow=\"never\">\r\n                        <div slot=\"header\">\r\n                            <span class=\"d-card-title\">已授权的应用列表</span>\r\n                        </div>\r\n                        <el-table :data=\"api.appList\">\r\n                            <el-table-column\r\n                                    type=\"index\"\r\n                                    label=\"序号\"\r\n                                    width=\"50\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"name\"\r\n                                    label=\"应用名称\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    prop=\"callCnt7\"\r\n                                    label=\"近7天调用次数\"\r\n                                    width=\"120\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                    label=\"操作\"\r\n                                    width=\"100\">\r\n                                <template slot-scope=\"scope\">\r\n                                    <el-button type=\"text\" size=\"mini\" @click=\"openAppChart(scope.row)\">调用趋势</el-button>\r\n                                </template>\r\n                            </el-table-column>\r\n                        </el-table>\r\n                    </el-card>\r\n                </el-row>\r\n            </el-col>\r\n        </el-row>\r\n        <el-dialog :title=\"'应用[ ' + app.name + ' ]的调用趋势'\"\r\n                   :visible.sync=\"showAppChartModal\">\r\n            <el-row class=\"d-row\">\r\n                <div style=\"float: left\">\r\n                    <el-radio-group v-model=\"appTimePeriodValue\" size=\"mini\" @change=\"setAppChartData\">\r\n                        <el-radio-button v-for=\"item in timePeriodList\" :label=\"item.code\" :key=\"item.code\">{{item.name}}</el-radio-button>\r\n                    </el-radio-group>\r\n                </div>\r\n                <div style=\"float: right\">\r\n                    <el-radio-group v-model=\"appTimeFreqValue\" size=\"mini\" @change=\"setAppChartData\">\r\n                        <el-radio-button v-for=\"item in timeFreqList\" :label=\"item.code\" :key=\"item.code\">{{item.name}}</el-radio-button>\r\n                    </el-radio-group>\r\n                </div>\r\n            </el-row>\r\n            <el-row class=\"d-row\">\r\n                <div class=\"d-call-chart d-box-middle\">\r\n                    <DChartFactory v-if=\"appChartData.length\" :meta=\"chartMeta\" :data=\"appChartData\" id=\"appCall\"></DChartFactory>\r\n                    <div v-else class=\"d-no-data-tip\">\r\n                        暂无API调用数据\r\n                    </div>\r\n                </div>\r\n            </el-row>\r\n        </el-dialog>\r\n    </DPageContent>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        getDevApi,\r\n        listApiCallTrendData\r\n    } from '../../../services/data-api/api-dev'\r\n    import DChartFactory from '../../data-visual/chart-factory'\r\n    import DateUtils from '../../../utils/dateUtils'\r\n    export default {\r\n        name: 'DApiDevDetail',\r\n        components: {DChartFactory},\r\n        data () {\r\n            return {\r\n                apiId: this.$route.params.id,\r\n                api: {},\r\n                detailColumns: [\r\n                    {key: 'id', title: 'API ID'},\r\n                    {key: 'name', title: '名称'},\r\n                    {key: 'releaseCnt', title: '发布次数'},\r\n                    {key: 'callCnt7', title: '近7天调用次数'},\r\n                    {key: 'remark', title: '描述'},\r\n                    {key: 'creator', title: '创建人'},\r\n                    {key: 'createTime', title: '创建时间'},\r\n                    {key: 'updator', title: '最后修改人'},\r\n                    {key: 'updateTime', title: '最后修改时间'}\r\n                ],\r\n                timePeriodValue: 7,\r\n                timePeriodList: [\r\n                    {code: 7, name: '近一周'},\r\n                    {code: 30, name: '近一月'},\r\n                    {code: 180, name: '近半年'}\r\n                ],\r\n                timeFreqValue: 'DAY',\r\n                timeFreqList: [\r\n                    {code: 'HOUR', name: '小时'},\r\n                    {code: 'DAY', name: '日'},\r\n                    {code: 'WEEK', name: '周'}\r\n                ],\r\n                chartMeta: {\r\n                    chartType: 'LINE_BAR',\r\n                    columns: [\r\n                        {\r\n                            key: 'dt', //\r\n                            name: '日期', // 指标/维度显示名称\r\n                            showType: 'text', // 显示类型\r\n                            dataType: 'date', // 数据类型\r\n                            dim: true // 是否是维度\r\n                        },\r\n                        {\r\n                            key: 'callCnt',\r\n                            name: '调用次数',\r\n                            showType: 'num',\r\n                            unit: '',\r\n                            type: 'line',\r\n                            dim: false\r\n                        }\r\n                    ], // 字段列表\r\n                    area: true // 面积图\r\n                },\r\n                sumChartData: [],\r\n                appChartData: [],\r\n                showAppChartModal: false,\r\n                app: {},\r\n                appTimePeriodValue: 7,\r\n                appTimeFreqValue: 'DAY'\r\n            }\r\n        },\r\n        methods: {\r\n            setApi () {\r\n                getDevApi({\r\n                    id: this.apiId\r\n                }).then(res => {\r\n                    this.api = res.data\r\n                }).catch(this.$handleError)\r\n                this.setSumChartData()\r\n            },\r\n            setSumChartData () {\r\n                let today = DateUtils.formatDate(new Date(), 'yyyyMMdd')\r\n                listApiCallTrendData({\r\n                    startDate: DateUtils.addDate(today, 0 - this.timePeriodValue, 'yyyyMMdd'),\r\n                    endDate: today,\r\n                    timeFreq: this.timeFreqValue,\r\n                    apiId: this.apiId\r\n                }).then(res => {\r\n                    this.sumChartData = res.data\r\n                }).catch(this.$handleError)\r\n            },\r\n            openAppChart (app) {\r\n                this.app = app\r\n                this.showAppChartModal = true\r\n                this.appTimeFreqValue = 'DAY'\r\n                this.appTimePeriodValue = 7\r\n                this.setAppChartData()\r\n            },\r\n            setAppChartData () {\r\n                let today = DateUtils.formatDate(new Date(), 'yyyyMMdd')\r\n                listApiCallTrendData({\r\n                    startDate: DateUtils.addDate(today, 0 - this.appTimePeriodValue, 'yyyyMMdd'),\r\n                    endDate: today,\r\n                    timeFreq: this.appTimeFreqValue,\r\n                    apiId: this.apiId,\r\n                    appId: this.app.id\r\n                }).then(res => {\r\n                    this.appChartData = res.data\r\n                }).catch(this.$handleError)\r\n            }\r\n        },\r\n        mounted () {\r\n            this.setApi()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .d-call-chart {\r\n        width: 100%;\r\n        height: 250px;\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=5045212c&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}