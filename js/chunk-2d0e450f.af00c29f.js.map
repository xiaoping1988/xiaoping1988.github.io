{"version":3,"sources":["webpack:///./src/pages/data-map/tb-manage/detail.vue?0093","webpack:///src/pages/data-map/tb-manage/detail.vue","webpack:///./src/pages/data-map/tb-manage/detail.vue?19bb","webpack:///./src/pages/data-map/tb-manage/detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","staticStyle","margin-bottom","_v","_s","tb","dbName","tbName","hasAuth","_e","type","plain","size","span","header","border-right","readCount","data","columns","detailColumns","col","_l","item","key","id","effect","closable","name","title","width","on","tab-click","clickTab","model","value","callback","$$v","activeTab","expression","label","colList","prop","scopedSlots","_u","fn","scope","class","dataTypeObj","row","dataType","icon","previewData","length","height","colName","colLabel","colObj","column","property","staticRenderFns","detailvue_type_script_lang_js_","col_manage","methods","setTb","_this","Object","tb_manage","$route","params","then","res","catch","$handleError","tab","event","paneName","setPreviewData","_this2","forEach","c","mounted","tb_manage_detailvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0e450f.af00c29f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DPageContent',[_c('el-row',{staticClass:\"d-row\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('h1',{staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.tb.dbName)+\".\"+_vm._s(_vm.tb.tbName)+\"\\n            \")]),(!_vm.tb.hasAuth)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"}},[_vm._v(\"申请权限\")]):_vm._e()],1)],1),_c('el-row',[_c('el-col',{staticClass:\"d-col\",attrs:{\"span\":6}},[_c('el-card',{attrs:{\"header\":\"基础信息\",\"shadow\":\"never\"}},[_c('el-row',{staticClass:\"d-row\"},[_c('el-col',{staticClass:\"d-detail-count\",staticStyle:{\"border-right\":\"0px\"},attrs:{\"span\":12}},[_vm._v(\"\\n                        读取\\n                        \"),_c('span',[_vm._v(_vm._s(_vm.tb.readCount))]),_vm._v(\"\\n                        次\\n                    \")])],1),_c('DDetail',{attrs:{\"data\":_vm.tb,\"columns\":_vm.detailColumns,\"col\":1}}),_c('div',{staticClass:\"d-desclist-index\"},[_c('div',{staticClass:\"d-desclist-index-term\"},[_vm._v(\"标签\")]),_c('div',{staticClass:\"d-desclist-index-detail d-tag-group\"},[_vm._l((_vm.tb.tagList),function(item){return _c('el-tag',{key:item.id,attrs:{\"size\":\"mini\",\"effect\":\"plain\",\"closable\":_vm.tb.hasAuth}},[_vm._v(_vm._s(item.name))])}),(_vm.tb.hasAuth)?_c('i',{staticClass:\"el-icon-circle-plus-outline d-icon\",attrs:{\"title\":\"新增标签\"}}):_vm._e()],2)])],1)],1),_c('el-col',{staticClass:\"d-col\",attrs:{\"span\":18}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-tabs',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.clickTab},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-tab-pane',{attrs:{\"label\":\"字段信息\",\"name\":\"column\"}},[_c('el-table',{attrs:{\"data\":_vm.tb.colList}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"colName\",\"label\":\"字段名\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"colLabel\",\"label\":\"中文名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"dataType\",\"label\":\"数据类型\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"d-icon fa\",class:'fa-' + _vm.dataTypeObj[scope.row.dataType].icon}),_c('span',[_vm._v(_vm._s(_vm.dataTypeObj[scope.row.dataType].name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"originalDataType\",\"label\":\"原始类型\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"colComment\",\"label\":\"描述\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"预览数据\",\"name\":\"preivewData\"}},[(!_vm.tb.hasAuth)?_c('div',{staticClass:\"d-no-data-tip\"},[_vm._v(\"\\n                            暂无权限查看数据,可点击左上角按钮申请权限\\n                        \")]):(_vm.previewData)?_c('div',[_c('div',{staticClass:\"head\"},[_vm._v(\"\\n                                显示最新\\n                                \"),_c('span',{staticClass:\"d-strong-count\"},[_vm._v(_vm._s(_vm.previewData.data.length))]),_vm._v(\"\\n                                条数据\\n                            \")]),_c('el-table',{attrs:{\"data\":_vm.previewData.data,\"height\":\"500\",\"width\":\"100%\"}},_vm._l((_vm.previewData.colList),function(col){return _c('el-table-column',{key:col.colName,attrs:{\"prop\":col.colName,\"label\":col.colLabel,\"width\":col.colLabel.length > 10 ? col.colLabel.length * 16 + 20 : 150},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('i',{staticClass:\"d-icon fa\",class:'fa-' + _vm.dataTypeObj[_vm.colObj[scope.column.property].dataType].icon}),_c('span',[_vm._v(_vm._s(scope.column.label))])]}}],null,true)})}),1)],1):_vm._e()]),_c('el-tab-pane',{attrs:{\"label\":\"应用追溯\",\"name\":\"app\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <DPageContent>\r\n        <el-row class=\"d-row\">\r\n            <el-card shadow=\"never\">\r\n                <h1 style=\"margin-bottom: 10px\">\r\n                    <!--<i class=\"fa fa-table d-icon\"></i>-->\r\n                    {{tb.dbName}}.{{tb.tbName}}\r\n                </h1>\r\n                <el-button v-if=\"!tb.hasAuth\" type=\"primary\" plain size=\"small\">申请权限</el-button>\r\n            </el-card>\r\n        </el-row>\r\n        <el-row>\r\n            <el-col class=\"d-col\" :span=\"6\">\r\n                <el-card header=\"基础信息\" shadow=\"never\">\r\n                    <el-row class=\"d-row\">\r\n                        <el-col :span=\"12\" class=\"d-detail-count\" style=\"border-right: 0px\">\r\n                            读取\r\n                            <span>{{tb.readCount}}</span>\r\n                            次\r\n                        </el-col>\r\n                    </el-row>\r\n                    <DDetail :data=\"tb\" :columns=\"detailColumns\" :col=\"1\"></DDetail>\r\n                    <div class=\"d-desclist-index\">\r\n                        <div class=\"d-desclist-index-term\">标签</div>\r\n                        <div class=\"d-desclist-index-detail d-tag-group\">\r\n                            <el-tag size=\"mini\" effect=\"plain\" :closable=\"tb.hasAuth\" v-for=\"item in tb.tagList\" :key=\"item.id\">{{item.name}}</el-tag>\r\n                            <i v-if=\"tb.hasAuth\" class=\"el-icon-circle-plus-outline d-icon\" title=\"新增标签\"></i>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col class=\"d-col\" :span=\"18\">\r\n                <el-card shadow=\"never\">\r\n                    <el-tabs v-model=\"activeTab\" type=\"card\" @tab-click=\"clickTab\" style=\"width: 100%\">\r\n                        <el-tab-pane label=\"字段信息\" name=\"column\">\r\n                            <el-table :data=\"tb.colList\">\r\n                                <el-table-column\r\n                                        type=\"index\"\r\n                                        label=\"序号\"\r\n                                        width=\"50\">\r\n                                </el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"colName\"\r\n                                        label=\"字段名\"\r\n                                        width=\"150\">\r\n                                </el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"colLabel\"\r\n                                        label=\"中文名\"\r\n                                        width=\"180\">\r\n                                </el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"dataType\"\r\n                                        label=\"数据类型\"\r\n                                        width=\"200\">\r\n                                    <template slot-scope=\"scope\">\r\n                                        <i class=\"d-icon fa\" :class=\"'fa-' + dataTypeObj[scope.row.dataType].icon\"></i><span>{{ dataTypeObj[scope.row.dataType].name }}</span>\r\n                                    </template>\r\n                                </el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"originalDataType\"\r\n                                        label=\"原始类型\"\r\n                                        width=\"120\">\r\n                                </el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"colComment\"\r\n                                        label=\"描述\">\r\n                                </el-table-column>\r\n                            </el-table>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"预览数据\" name=\"preivewData\">\r\n                            <div v-if=\"!tb.hasAuth\" class=\"d-no-data-tip\">\r\n                                暂无权限查看数据,可点击左上角按钮申请权限\r\n                            </div>\r\n                            <div v-else-if=\"previewData\">\r\n                                <div class=\"head\">\r\n                                    显示最新\r\n                                    <span class=\"d-strong-count\">{{previewData.data.length}}</span>\r\n                                    条数据\r\n                                </div>\r\n                                <el-table :data=\"previewData.data\"\r\n                                          height=\"500\" width=\"100%\">\r\n                                    <el-table-column\r\n                                            v-for=\"col in previewData.colList\"\r\n                                            :key=\"col.colName\"\r\n                                            :prop=\"col.colName\"\r\n                                            :label=\"col.colLabel\"\r\n                                            :width=\"col.colLabel.length > 10 ? col.colLabel.length * 16 + 20 : 150\">\r\n                                        <template slot=\"header\" slot-scope=\"scope\">\r\n                                            <i class=\"d-icon fa\" :class=\"'fa-' + dataTypeObj[colObj[scope.column.property].dataType].icon\"></i><span>{{ scope.column.label }}</span>\r\n                                        </template>\r\n                                    </el-table-column>\r\n                                </el-table>\r\n                            </div>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"应用追溯\" name=\"app\">\r\n\r\n                        </el-tab-pane>\r\n                    </el-tabs>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </DPageContent>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        getTb,\r\n        previewTbData\r\n    } from '../../../services/data-map/tb-manage'\r\n    import {\r\n        DataType\r\n    } from '../../../services/data-map/col-manage'\r\n    export default {\r\n        name: 'DTbDetail',\r\n        data () {\r\n            return {\r\n                tb: {},\r\n                dataTypeObj: DataType,\r\n                detailColumns: [\r\n                    {key: 'tbName', title: '名称'},\r\n                    {key: 'dbName', title: '数据库归属'},\r\n                    {key: 'dsName', title: '数据源归属'},\r\n                    {key: 'lastDataModifiedTime', title: '最后数据更新时间'},\r\n                    {key: 'remark', title: '描述'},\r\n                    {key: 'queryEngineTypeList', title: '支持引擎类型'},\r\n                ],\r\n                activeTab: 'column',\r\n                previewData: null,\r\n                colObj: {}\r\n            }\r\n        },\r\n        methods: {\r\n            setTb () {\r\n                getTb({\r\n                    id: this.$route.params.id\r\n                }).then(res => {\r\n                    this.tb = res.data\r\n                }).catch(this.$handleError)\r\n            },\r\n            clickTab (tab, event) {\r\n                if (tab.paneName === 'preivewData') {\r\n                    this.setPreviewData()\r\n                }\r\n            },\r\n            setPreviewData () {\r\n                if (this.tb.hasAuth && !this.previewData) {\r\n                    previewTbData({\r\n                        id: this.$route.params.id\r\n                    }).then(res => {\r\n                        this.previewData = res.data\r\n                        this.previewData.colList.forEach(c => {\r\n                            this.colObj[c.colName] = c\r\n                        })\r\n                    }).catch(this.$handleError)\r\n                }\r\n            }\r\n        },\r\n        mounted () {\r\n            this.setTb()\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=2d007779&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}