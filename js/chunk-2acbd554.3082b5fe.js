(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2acbd554"],{"2b65":function(t,e,a){"use strict";var r=a("5e5d"),s=a.n(r);s.a},"5e5d":function(t,e,a){},de59:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-guide-dev"},[a("el-row",{staticClass:"d-row"},[a("DPageHeader",{attrs:{title:"API开发",hasBack:"",backPath:"/data-api/my-api"}},[a("div",{attrs:{slot:"right"},slot:"right"},[a("el-button",{attrs:{size:"mini",type:"text"}},[t._v("测试")]),a("el-button",{attrs:{size:"mini",type:"text"}},[t._v("发布")]),a("el-button",{attrs:{size:"mini",type:"text"}},[t._v("保存")]),a("el-button",{attrs:{size:"mini",type:"text"}},[t._v("刷新")]),a("el-button",{attrs:{size:"mini",type:"text"}},[t._v("版本")])],1)])],1),a("div",{staticClass:"api-guide-dev-container"},[a("div",{staticClass:"main-dev"},[a("el-row",{staticClass:"d-row",attrs:{id:"basic"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"d-card-title"},[t._v("基本信息")])]),a("el-form",{ref:"basicForm",attrs:{model:t.basicForm,rules:t.basicFormRule,size:"mini","label-width":"80px"}},[a("el-form-item",{attrs:{label:"API名称",prop:"name"}},[a("el-input",{model:{value:t.basicForm.name,callback:function(e){t.$set(t.basicForm,"name","string"===typeof e?e.trim():e)},expression:"basicForm.name"}})],1),a("el-form-item",{attrs:{label:"API描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:t.basicForm.remark,callback:function(e){t.$set(t.basicForm,"remark","string"===typeof e?e.trim():e)},expression:"basicForm.remark"}})],1)],1)],1)],1),a("el-row",{staticClass:"d-row",attrs:{id:"table"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"d-card-title"},[t._v("数据表")])]),a("el-form",{ref:"dsForm",attrs:{model:t.dsForm,rules:t.dsFormRule,size:"mini","label-width":"100px",inline:""}},[a("el-form-item",{attrs:{label:"数据源类型",prop:"dbType"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{filterable:""},on:{change:t.changeDbType},model:{value:t.dsForm.dbType,callback:function(e){t.$set(t.dsForm,"dbType",e)},expression:"dsForm.dbType"}},t._l(t.dbTypeList,function(t){return a("el-option",{key:t.code,attrs:{value:t.code,label:t.name}})}),1)],1),a("el-form-item",{attrs:{label:"数据源名称",prop:"dbId"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{filterable:""},on:{change:t.changeDb},model:{value:t.dsForm.dbId,callback:function(e){t.$set(t.dsForm,"dbId",e)},expression:"dsForm.dbId"}},t._l(t.dbList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.dbName}})}),1)],1),a("el-form-item",{attrs:{label:"数据表名称",prop:"tbId"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",remote:"",placeholder:"请输入关键词","remote-method":t.searchTb,loading:t.searchTbLoading},model:{value:t.dsForm.tbId,callback:function(e){t.$set(t.dsForm,"tbId",e)},expression:"dsForm.tbId"}},t._l(t.tbList,function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.tbName}})}),1)],1)],1)],1)],1),a("el-row",{staticClass:"d-row",attrs:{id:"requestParam"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"d-card-title"},[t._v("请求参数")]),a("div",{staticStyle:{float:"right"}},[a("el-button",{staticClass:"d-card-btn",attrs:{type:"text"}},[t._v("\n                                添加参数\n                            ")])],1)]),a("el-table",{attrs:{border:"",data:t.requestParamData}},[a("el-table-column",{attrs:{prop:"paramName",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"colName",label:"绑定字段"}}),a("el-table-column",{attrs:{prop:"dataType",label:"参数类型"}}),a("el-table-column",{attrs:{prop:"operType",label:"操作符"}}),a("el-table-column",{attrs:{prop:"sqlFunc",label:"函数"}}),a("el-table-column",{attrs:{prop:"isRequired",label:"是否必填"}}),a("el-table-column",{attrs:{prop:"exampleValue",label:"示例值"}}),a("el-table-column",{attrs:{prop:"defaultValue",label:"默认值"}}),a("el-table-column",{attrs:{prop:"remark",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.deleteApi(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1),a("el-row",{staticClass:"d-row",attrs:{id:"responseParam"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"d-card-title"},[t._v("返回参数")]),a("div",{staticStyle:{float:"right"}},[a("el-button",{staticClass:"d-card-btn",attrs:{type:"text"}},[t._v("\n                                添加参数\n                            ")])],1)]),a("el-table",{attrs:{border:"",data:t.responseParamData}},[a("el-table-column",{attrs:{prop:"paramName",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"colName",label:"绑定字段"}}),a("el-table-column",{attrs:{prop:"dataType",label:"参数类型"}}),a("el-table-column",{attrs:{prop:"sqlFunc",label:"函数"}}),a("el-table-column",{attrs:{prop:"exampleValue",label:"示例值"}}),a("el-table-column",{attrs:{prop:"orderType",label:"排序"}}),a("el-table-column",{attrs:{prop:"orderPriority",label:"排序优先级"}}),a("el-table-column",{attrs:{prop:"remark",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.deleteApi(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)],1),t._m(0)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"right-nav"},[a("li",[a("a",{attrs:{href:"#basic"}},[t._v("基本信息")])]),a("li",[a("a",{attrs:{href:"#table"}},[t._v("数据表")])]),a("li",[a("a",{attrs:{href:"#requestParam"}},[t._v("请求参数")])]),a("li",[a("a",{attrs:{href:"#responseParam"}},[t._v("返回参数")])])])}],l=(a("ac6a"),a("8615"),a("f4b2")),i=a("1fc3"),o=a("8a52"),n={name:"DGuideDev",data:function(){return{basicForm:{id:"",name:"",remark:""},basicFormRule:{name:[{required:!0,message:"请输入API名称",trigger:"blur"}],remark:[{required:!0,message:"请输入API描述",trigger:"blur"}]},dbTypeList:Object.values(l["b"]),dsForm:{dbType:"",dbId:"",tbId:""},dbList:[],tbList:[],searchTbLoading:!1,dsFormRule:{dbType:[{required:!0,message:"请选择数据源类型",trigger:"change"}],dbId:[{required:!0,message:"请选择数据源",trigger:"change"}],tbId:[{required:!0,message:"请选择数据表",trigger:"change"}]},requestParamData:[],responseParamData:[]}},methods:{changeDbType:function(){this.setDbList()},setDbList:function(){var t=this;this.dbList=[],this.dsForm.dbId="",this.tbList=[],this.dsForm.tbId="",Object(i["d"])({dbType:this.dsForm.dbType}).then(function(e){t.dbList=e.data}).catch(this.$handleError)},changeDb:function(){this.setTbList()},setTbList:function(t){var e=this;this.tbList=[],this.dsForm.tbId="",this.searchTbLoading=!0,Object(o["f"])({dbId:this.dsForm.dbId,tbName:t,pageNo:1,pageSize:15}).then(function(t){e.tbList=t.data.data,e.searchTbLoading=!1}).catch(function(t){e.$handleError(t),e.searchTbLoading=!1})},searchTb:function(t){this.setTbList(t)}}},d=n,b=(a("2b65"),a("2877")),c=Object(b["a"])(d,r,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2acbd554.3082b5fe.js.map