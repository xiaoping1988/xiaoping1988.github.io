(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de184"],{"83d7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DPageContent",[i("el-card",{attrs:{shadow:"never"}},[i("el-form",{attrs:{inline:""}},[i("el-form-item",[i("el-input",{attrs:{"suffix-icon":"el-icon-search",size:"mini",clearable:"",placeholder:"请输入关键字搜索"},model:{value:t.keyword,callback:function(e){t.keyword="string"===typeof e?e.trim():e},expression:"keyword"}})],1),i("el-form-item",{staticStyle:{float:"right"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.openApiDev}},[t._v("开发新API")])],1)],1),i("el-table",{attrs:{data:t.tableData}},[i("el-table-column",{attrs:{prop:"id",label:"API ID",width:"80"}}),i("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:"/data-api/api-dev/"+e.row.id}},[t._v(t._s(e.row.name))])]}}])}),i("el-table-column",{attrs:{prop:"callCnt7",label:"近7天调用次数",width:"150"}}),i("el-table-column",{attrs:{prop:"remark",label:"描述"}}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"150"}}),i("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",width:"150"}}),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.isReleased?i("el-button",{staticClass:"d-error",attrs:{type:"text",size:"mini"},on:{click:function(i){return t.releaseApi(e.row)}}},[t._v("发布")]):t._e(),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.deleteApi(e.row)}}},[t._v("删除")])]}}])})],1),i("DLoading",{attrs:{loading:t.loading}})],1)],1)},n=[],r=(i("7f7f"),i("6762"),i("2fdb"),i("5742")),l={name:"DMyApi",data:function(){return{tableData:[],keyword:"",apiList:[],loading:!1}},methods:{setApiList:function(){var t=this;this.keyword="",Object(r["e"])().then(function(e){t.apiList=e.data,t.searchApi()}).catch(this.$handleError)},searchApi:function(){var t=this;this.keyword?this.tableData=this.apiList.filter(function(e){return e.name.includes(t.keyword)||e.remark.includes(t.keyword)}):this.tableData=this.apiList},deleteApi:function(t){var e='确认删除API<strong class="d-error">"'+t.name+'"</strong>吗?',i=this;i.$confirmInfo(e,function(){Object(r["b"])({id:t.id}).then(function(t){i.setApiList()}).catch(i.$handleError)})},releaseApi:function(t){var e=this;this.loading=!0,Object(r["f"])({id:t.id}).then(function(t){e.loading=!1,e.setApiList()}).catch(function(t){e.$handleError(t),e.loading=!1})},openApiDev:function(){this.$router.push("/data-api/guide-dev")}},watch:{keyword:function(){this.searchApi()}},mounted:function(){this.setApiList()}},o=l,s=i("2877"),c=Object(s["a"])(o,a,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0de184.e8cf0937.js.map