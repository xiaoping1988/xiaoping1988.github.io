webpackJsonp([1],{"+B75":function(t,e,n){"use strict";function a(t){n("Xuo/")}var o=n("buLG"),i=n("XLwt"),r=n.n(i),s={data:function(){return{chart:null,parentWidth:0}},props:{id:{type:String,default:"chart"+(new Date).getTime()},height:{type:[Number,String],default:400},data:{type:Object,required:!0}},methods:{initChart:function(){if(!this.data.data||0===this.data.data.length)return void(this.chart&&this.chart.dispose());var t=document.getElementById(this.id);if(t){this.chart=r.a.getInstanceByDom(t),this.chart||(this.chart=r.a.init(t)),this.chart.clear(),this.chart.showLoading();var e={};this.data&&(e=Object(o.a)(this.data)),this.chart.hideLoading(),this.chart.setOption(e),this.chart.resize()}}},watch:{data:function(t,e){this.initChart()},parentWidth:function(){this.chart&&this.chart.resize()}},mounted:function(){this.$nextTick(function(){this.initChart()});var t=this,e=window.setInterval(function(){if(!document.getElementById(t.id))return void window.clearInterval(e);t.parentWidth=document.getElementById(t.id).parentNode.clientWidth},1)},updated:function(){this.$nextTick(function(){this.initChart()})}},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data&&t.data.data&&t.data.data.length>0?n("div",{staticClass:"chart",style:{height:t.height+"px"},attrs:{id:t.id}}):n("div",{staticStyle:{"text-align":"center",height:"50px","line-height":"50px"},attrs:{id:t.id}},[t._v("图表["+t._s(t.data.title)+"]-暂无数据")])},l=[],c={render:d,staticRenderFns:l},u=c,p=n("VU/8"),m=a,h=p(s,u,!1,m,"data-v-17fbb499",null);e.a=h.exports},"0wuV":function(t,e){},"3z+F":function(t,e){},"3zA4":function(t,e){},"4omS":function(t,e){},"61rS":function(t,e){},"94yb":function(t,e){},AXNC:function(t,e){},Av1C:function(t,e){},BiJf:function(t,e){},EpBZ:function(t,e){},IhhN:function(t,e){},Jmt5:function(t,e){},KpEw:function(t,e){},MEVT:function(t,e){},NHnr:function(t,e,n){"use strict";function a(t){n("Y9ze")}function o(){return JSON.parse(localStorage.getItem(K))}function i(t){var e=new Date;e.setTime(e.getTime()-1e4),document.cookie=t+"=v; expires="+e.toGMTString()}function r(){i(Q)}function s(t,e){e&&""!==e||(e=tt);var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()},a={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+a[t.getDay()+""]));for(var o in n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return e}function d(){return new q.a(function(t,e){window.init=function(){t(BMap)};var n=document.createElement("script");n.type="text/javascript",n.src="http://api.map.baidu.com/api?v=2.0&ak="+et+"&callback=init",n.onerror=e,document.head.appendChild(n)})}function l(){return new q.a(function(t,e){window.init=function(){t(BMap);var n=document.createElement("script");n.type="text/javascript",n.src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js",n.onerror=e,document.body.appendChild(n)};var n=document.createElement("script");n.type="text/javascript",n.src="http://api.map.baidu.com/api?v=2.0&ak="+et+"&callback=init",n.onerror=e,document.body.appendChild(n)})}function c(t){n("61rS")}function u(t){n("Av1C")}function p(t){return Rt[t]?Rt[t].nodeType.icon:"dot-circle-o"}function m(){var t=[];return Ot()(Lt).forEach(function(e){var n=[];Pt()(Rt).forEach(function(t){t.nodeType.code===Lt[e].code&&n.push({code:t.code,label:t.name,icon:Lt[e].icon,isLeaf:!0})}),t.push({code:Lt[e].code,label:Lt[e].name,icon:"folder",children:n})}),t}function h(t,e){var n={code:0,msg:""};return Rt[t].nodeType.next&&Rt[t].nodeType.next.includes(Rt[e].nodeType.code)||(n.code=1,n.msg=Rt[t].nodeType.msg),n}function f(t){n("3z+F")}function v(t){for(var e in Gt)if(Gt[e].id===t)return Gt[e].icon;return"dot-circle-o"}function g(){var t={id:0};return _(t),t.children}function _(t){var e=Gt.filter(function(e){return e.pid===t.id});e&&e.length>0?(t.children=[],e.forEach(function(e){var n={id:e.id,label:e.name,icon:e.icon};t.children.push(n),_(n)})):t.isLeaf=!0}function b(t){n("TeIJ")}function y(t){n("ZIQ+")}function C(t){n("BiJf")}function M(t){n("RJZj")}function w(t){n("qRK+")}function x(t){n("EpBZ")}function j(t){n("94yb")}function D(t){n("diU/")}function I(t){n("AXNC")}function E(t){n("iVb1")}function k(t){n("cugv")}function S(t){n("IhhN")}function T(t){n("KpEw")}function N(t){n("cbjb")}function F(t){n("NJSI")}function P(t){n("gQ8a")}function $(t){n("tpxg")}function O(t){n("QqUY")}Object.defineProperty(e,"__esModule",{value:!0});var L=n("7+uW"),R={name:"app"},B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},V=[],H={render:B,staticRenderFns:V},A=H,U=n("VU/8"),W=a,z=U(R,A,!1,W,null,null),J=z.exports,Z=n("/ocq"),X=n("//Fk"),q=n.n(X),G=n("mvHQ"),Y=n.n(G),Q="p_token",K="p_user",tt="yyyy-MM-dd",et="C442db13ee343023e84546b6765dfcff",nt=n("mtWM"),at=n.n(nt),ot=(n("mw3O"),function(t,e){return at.a.get(t,e).then(function(t){return t.data})}),it=function(t,e){return at.a.post(t,e).then(function(t){return t.data})},rt={login:"/api/login",logout:"/api/logout"},st=function(t){return it(rt.login,t)},dt=function(t){return it(rt.logout,t)},lt={data:function(){return{username:"admin",password:"123456"}},methods:{doLogin:function(){var t=this;if(""===this.username||""===this.password)return void this.$notify.warning({title:"请输入账号和密码!"});st({username:this.username,password:this.password}).then(function(e){t.$router.push("/scene")}).catch(this.handleError)}}},ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-login p-middle"},[n("div",{staticStyle:{width:"300px"}},[t._m(0,!1,!1),t._v(" "),n("div",{staticClass:"row p-row"},[n("div",{staticClass:"p-login-input",class:{"has-text":""!=t.username}},[n("input",{directives:[{name:"model",rawName:"v-model.trim()",value:t.username,expression:"username",modifiers:{"trim()":!0}}],attrs:{placeholder:"请输入账号"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"row p-row"},[n("div",{staticClass:"p-login-input",class:{"has-text":""!=t.password}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"row p-row"},[n("div",{staticClass:"p-login-input"},[n("button",{staticClass:"p-login-submit-button",on:{click:t.doLogin}},[t._v("登录")])])])])])},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row p-row"},[n("div",{staticClass:"p-login-input"},[n("button",{staticClass:"p-login-submit-button"},[t._v("P系统")])])])}],pt={render:ct,staticRenderFns:ut},mt=pt,ht=n("VU/8"),ft=c,vt=ht(lt,mt,!1,ft,null,null),gt=vt.exports,_t=gt,bt={list:"/api/scene/list",saveOrUpdate:"/api/scene/save-or-update",flowChart:"/api/scene/flow-chart"},yt=function(t){return ot(bt.list,t)},Ct=function(t){return it(bt.saveOrUpdate,t)},Mt=function(){var t=(new Date).getTime(),e="jspnode_"+t+"_1",n="jspnode_"+t+"_2",a="jspnode_"+t+"_3";return[{nodeCode:"db_hive",nodeDomId:e,name:"hive",x:500,y:20,parents:[],children:[n]},{nodeCode:"fp_normalization",nodeDomId:n,name:"归一化",x:500,y:200,parents:[e],children:[a]},{nodeCode:"ds_random",nodeDomId:a,name:"随机分组",x:500,y:400,parents:[n],children:[]}]},wt=function(t){return it(bt.flowChart,t)},xt={data:function(){return{page:1,pageSize:10,hasMore:!0,updateIndex:-1,sceneList:[],sceneDialogTitle:"创建场景",sceneDialogVisible:!1,sceneForm:{id:"",name:"",description:""},sceneFormRule:{name:[{required:!0,message:"请输入场景名称",trigger:"blur"},{max:20,message:"长度在 0 到 20 个字符",trigger:"blur"}],description:[{max:50,message:"长度在 0 到 50 个字符",trigger:"blur"}]}}},methods:{pushSceneList:function(){var t=this,e={page:t.page,pageSize:t.pageSize};yt(e).then(function(e){t.sceneList=t.sceneList.concat(e.result),t.hasMore=e.result.length===t.pageSize}).catch(this.handleError)},loadMore:function(){this.page++,this.pushSceneList()},initSceneList:function(){this.page=1,this.sceneList=[],this.pushSceneList()},submitScene:function(){var t=this,e=this;e.$refs.sceneForm.validate(function(n){n&&Ct(e.sceneForm).then(function(t){e.sceneDialogVisible=!1,""===e.sceneForm.id?e.openSceneDevelop(t.result.id,t.result.name,0):e.sceneList[e.updateIndex]&&(e.sceneList[e.updateIndex].name=e.sceneForm.name,e.sceneList[e.updateIndex].description=e.sceneForm.description)}).catch(t.handleError)})},openSceneDevelop:function(t,e,n){this.$router.push({path:"/scene/develop",query:{sceneId:t,sceneName:e,add:n}})},openSceneAddDialog:function(){this.sceneForm={id:"",name:"",description:""},this.sceneDialogVisible=!0},openSceneUpdateDialog:function(t,e){this.updateIndex=e,this.sceneForm={id:t.id,name:t.name,description:t.description},this.sceneDialogTitle="编辑场景",this.sceneDialogVisible=!0}},mounted:function(){this.initSceneList()}},jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-layout-no-side",[n("div",{staticClass:"p-scene-list"},[n("div",{staticClass:"p-scene-panel p-scene-add p-middle",on:{click:t.openSceneAddDialog}},[n("div",[n("i",{staticClass:"fa fa-4x fa-plus-circle"}),t._v(" "),n("br"),t._v(" "),n("span",[t._v("新建实验")])])]),t._v(" "),t._l(t.sceneList,function(e,a){return n("div",{key:e.id,staticClass:"p-scene-panel p-scene-item"},[n("div",{staticClass:"p-scene-item-data"},[n("div",{staticClass:"p-scene-item-title"},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),n("div",{staticClass:"p-scene-item-icon"},[n("i",{staticClass:"fa fa-4x fa-cubes"})]),t._v(" "),n("div",{staticClass:"p-scene-item-detail p-scene-item-desc"},[t._v("\n          "+t._s(e.description)+"\n        ")]),t._v(" "),n("div",{staticClass:"p-scene-item-detail p-scene-item-bottom"},[n("span",[t._v(t._s(e.creator))]),t._v(" "),n("br"),t._v(" "),n("c-format-date",{attrs:{val:e.createtime}})],1)]),t._v(" "),n("div",{staticClass:"p-scene-item-action p-middle"},[n("div",[n("div",{staticClass:"p-scene-item-action-button"},[n("el-button",{attrs:{size:"mini"},on:{click:function(n){t.openSceneDevelop(e.id,e.name,1)}}},[n("i",{staticClass:"fa fa-1x fa-sitemap"}),t._v(" "),n("span",[t._v("进入实验")])])],1),t._v(" "),n("div",{staticClass:"p-scene-item-action-button"},[n("el-button",{attrs:{size:"mini"},on:{click:function(n){t.openSceneUpdateDialog(e,a)}}},[n("i",{staticClass:"fa fa-1x fa-pencil"}),t._v(" "),n("span",[t._v("编辑描述")])])],1)])])])}),t._v(" "),t.hasMore?n("div",{staticClass:"p-scene-panel p-scene-loadmore",on:{click:t.loadMore}},[t._v("\n      加载更多\n    ")]):t._e()],2),t._v(" "),n("el-dialog",{attrs:{title:t.sceneDialogTitle,visible:t.sceneDialogVisible,width:"30%"},on:{"update:visible":function(e){t.sceneDialogVisible=e}}},[n("el-form",{ref:"sceneForm",attrs:{model:t.sceneForm,rules:t.sceneFormRule,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"场景名称",prop:"name"}},[n("el-input",{model:{value:t.sceneForm.name,callback:function(e){t.$set(t.sceneForm,"name",e)},expression:"sceneForm.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"场景描述",prop:"description"}},[n("el-input",{model:{value:t.sceneForm.description,callback:function(e){t.$set(t.sceneForm,"description",e)},expression:"sceneForm.description"}})],1)],1),t._v(" "),n("c-form-button",{on:{"on-submit":t.submitScene,"on-cancel":function(e){t.sceneDialogVisible=!1}}})],1)],1)},Dt=[],It={render:jt,staticRenderFns:Dt},Et=It,kt=n("VU/8"),St=u,Tt=kt(xt,Et,!1,St,null,null),Nt=Tt.exports,Ft=n("gRE1"),Pt=n.n(Ft),$t=n("fZjL"),Ot=n.n($t),Lt={database:{code:"database",name:"数据源",icon:"database",next:["featureProcess"],msg:"数据源组件后面只能连接特征处理组件"},featureProcess:{code:"featureProcess",name:"特征处理",icon:"wrench",next:["dataSegment"],msg:"特征处理组件后面只能连接数据切分组件"},dataSegment:{code:"dataSegment",name:"数据切分",icon:"cube",msg:"数据切分组件后面不能再连接组件"}},Rt={db_hive:{code:"db_hive",name:"hive",nodeType:Lt.database},fp_miss_value:{code:"fp_miss_value",name:"缺失值处理",nodeType:Lt.featureProcess},fp_value_range:{code:"fp_value_range",name:"取值范围",nodeType:Lt.featureProcess},fp_normalization:{code:"fp_normalization",name:"归一化",nodeType:Lt.featureProcess},fp_bucket:{code:"fp_bucket",name:"分箱",nodeType:Lt.featureProcess},fp_discretization:{code:"fp_discretization",name:"离散化",nodeType:Lt.featureProcess},ds_time:{code:"ds_time",name:"时间分组",nodeType:Lt.dataSegment},ds_random:{code:"ds_random",name:"随机分组",nodeType:Lt.dataSegment}},Bt=(n("0wuV"),n("3eaK")),Vt={data:function(){return{routerQuery:this.$route.query,jsplumb:null,jspnodes:[],selectNode:{},nodes:[],nodeTree:m(),defaultProps:{children:"children",label:"label"}}},methods:{initJsPlumb:function(){var t=this;Bt.jsPlumb.ready(function(){t.jsplumb=Bt.jsPlumb.getInstance({Endpoint:["Dot",{radius:2}],Connector:["Bezier",{curviness:100}],connectorStyle:{stroke:"#5c96bc",strokeWidth:2,outlineStroke:"transparent",outlineWidth:4},HoverPaintStyle:{stroke:"#1e8151",strokeWidth:2,outlineStroke:"transparent",outlineWidth:4},Container:"canvas",Anchors:["Top","Bottom"],ConnectionOverlays:[["Arrow",{location:1,id:"arrow",width:9,length:11,foldback:.8}]]}),t.jsplumb.bind("click",t.deleteConnect),t.jsplumb.bind("connection",t.connectNode),"0"===t.routerQuery.add.toString()?t.jspnodes=Mt():wt({sceneId:t.routerQuery.sceneId}).then(function(e){t.jspnodes=e.result}).catch(t.handleError)})},deleteConnect:function(t){var e=this;for(var n in e.jspnodes)if(e.jspnodes[n].nodeDomId===t.sourceId){e.jspnodes[n].children.splice(e.jspnodes[n].children.indexOf(t.targetId),1);break}e.jsplumb.deleteConnection(t)},connectNode:function(t){var e=this;if(t.sourceId===t.targetId)return e.jsplumb.deleteConnection(t.connection),void e.messageWarn("禁止自连接!");var n=void 0,a=void 0;e.jspnodes.forEach(function(e){e.nodeDomId===t.sourceId&&(n=e.nodeCode),e.nodeDomId===t.targetId&&(a=e.nodeCode)});var o=h(n,a);if(1===o.code)return e.jsplumb.deleteConnection(t.connection),void e.messageWarn(o.msg);var i=e.jsplumb.getConnections(),r=i.filter(function(e){return e.sourceId+e.targetId===t.sourceId+t.targetId||e.targetId+e.sourceId===t.sourceId+t.targetId});if(r&&r.length>1)return void r.forEach(function(t,n){n>0&&e.jsplumb.deleteConnection(t)});for(var s in e.jspnodes)e.jspnodes[s].nodeDomId===t.sourceId&&(e.jspnodes[s].children.includes(t.targetId)||e.jspnodes[s].children.push(t.targetId)),e.jspnodes[s].nodeDomId===t.targetId&&(e.jspnodes[s].parents.includes(t.sourceId)||e.jspnodes[s].parents.push(t.sourceId))},clickNode:function(t){var e=this;for(var n in e.jspnodes)if(e.jspnodes[n].nodeDomId===t){var a=document.getElementById(t);e.jspnodes[n].x=a.offsetLeft,e.jspnodes[n].y=a.offsetTop,e.selectNode=e.jspnodes[n];break}},removeNode:function(t){var e=this;e.jsplumb.deleteConnectionsForElement(t),e.jsplumb.getEndpoints(t).forEach(function(t){return e.jsplumb.deleteEndpoint(t)});for(var n in e.jspnodes){e.jspnodes[n].nodeDomId===t&&e.jspnodes.splice(n,1);var a=e.jspnodes[n].children.indexOf(t);a>=0&&e.jspnodes[n].children.splice(a,1);var o=e.jspnodes[n].parents.indexOf(t);o>=0&&e.jspnodes[n].parents.splice(o,1)}},drag:function(t,e){t.dataTransfer.setData("node",Y()(e))},drop:function(t){t.preventDefault();var e=JSON.parse(t.dataTransfer.getData("node"));this.jspnodes.push({nodeCode:e.code,nodeDomId:"jspnode_"+(new Date).getTime()+"_"+this.jspnodes.length,name:e.label,x:t.offsetX,y:t.offsetY,children:[],parents:[]})},allowDrop:function(t){t.preventDefault()},saveFlow:function(){this.jspnodes.forEach(function(t){var e=document.getElementById(t.nodeDomId);t.x=e.offsetLeft,t.y=e.offsetTop}),this.nodes=this.jspnodes},renderNodeTreeLabel:function(t,e){var n=this,a=e.node,o=e.data;e.store;return o.isLeaf?t("span",{attrs:{draggable:"true"},on:{dragstart:function(t){return n.drag(t,o)}}},[t("i",{class:"fa fa-1x fa-"+o.icon},[]),t("span",null,[a.label])]):t("span",null,[t("i",{class:"fa fa-1x fa-"+o.icon},[]),t("span",null,[a.label])])}},mounted:function(){this.initJsPlumb()},updated:function(){var t=this;t.$nextTick(function(){t.jsplumb.batch(function(){t.jspnodes.forEach(function(e){e.children&&e.children.length>0&&e.children.forEach(function(n){t.jsplumb.connect({source:e.nodeDomId,target:n})})})})})}},Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-full-page"},[n("div",{staticClass:"jsp-develop-title"},[n("span",[t._v("\n      "+t._s(t.routerQuery.sceneName)+"\n    ")])]),t._v(" "),n("div",{staticClass:"jsp-develop-left"},[n("el-tree",{staticClass:"jsp-node-tree",attrs:{data:t.nodeTree,props:t.defaultProps,"default-expand-all":"","render-content":t.renderNodeTreeLabel}})],1),t._v(" "),n("div",{staticClass:"jsp-develop-canvas"},[n("div",{staticClass:"jsp-container",attrs:{id:"canvas"},on:{drop:function(e){t.drop(e)},dragover:function(e){t.allowDrop(e)}}},t._l(t.jspnodes,function(e){return n("jsp-node",{key:e.nodeDomId,class:{"jsp-selected":e.nodeDomId===t.selectNode.nodeDomId},attrs:{id:e.nodeDomId,x:e.x,y:e.y,name:e.name,jsplumb:t.jsplumb,nodeCode:e.nodeCode},on:{"on-click":t.clickNode,"on-remove":t.removeNode}})})),t._v(" "),n("div",{staticClass:"jsp-flow-tool"},[n("el-button",{attrs:{size:"small",type:"success"}},[n("i",{staticClass:"fa fa-1x fa-play-circle"}),t._v(" "),n("span",[t._v("运行")])]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check-outline"},on:{click:t.saveFlow}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{size:"small",icon:"el-icon-circle-close-outline"},on:{click:function(e){t.goBack()}}},[t._v("关闭")])],1)]),t._v(" "),n("div",{staticClass:"jsp-develop-right"},[t._v("\n    组件编辑区\n    "),n("br"),t._v(" "),n("br"),t._v("\n    选中的组件对象:\n    "),n("br"),t._v("\n    "+t._s(t.selectNode)+"\n    "),n("br"),t._v("\n    流程节点集合:\n    "),n("br"),t._v("\n    "+t._s(t.nodes)+"\n  ")])])},At=[],Ut={render:Ht,staticRenderFns:At},Wt=Ut,zt=n("VU/8"),Jt=f,Zt=zt(Vt,Wt,!1,Jt,"data-v-463fbc4f",null),Xt=Zt.exports;Nt.SceneDevelop=Xt;var qt=Nt,Gt=[{id:1,name:"数据源",icon:"folder",pid:0},{id:2,name:"hive",icon:"database",pid:1},{id:3,name:"mysql",icon:"database",pid:1},{id:4,name:"hbase",icon:"database",pid:1},{id:5,name:"特征处理",icon:"folder",pid:0},{id:6,name:"归一化",icon:"wrench",pid:5},{id:7,name:"离散化",icon:"wrench",pid:5},{id:8,name:"模型",icon:"folder",pid:0},{id:9,name:"分类",icon:"folder",pid:8},{id:11,name:"逻辑回归",icon:"crosshairs",pid:9},{id:12,name:"朴素贝叶斯",icon:"crosshairs",pid:9},{id:13,name:"决策树",icon:"crosshairs",pid:9},{id:14,name:"支持向量机",icon:"crosshairs",pid:9},{id:15,name:"随机森林",icon:"crosshairs",pid:9},{id:16,name:"聚类",icon:"folder",pid:8},{id:17,name:"K-MEANS",icon:"crosshairs",pid:16},{id:18,name:"K-MEDOIDS",icon:"crosshairs",pid:16},{id:19,name:"层次聚类",icon:"crosshairs",pid:16},{id:20,name:"GMM",icon:"crosshairs",pid:16},{id:21,name:"回归",icon:"folder",pid:8},{id:22,name:"线性回归",icon:"crosshairs",pid:21},{id:23,name:"一般线性回归",icon:"crosshairs",pid:21},{id:24,name:"数据拆分",icon:"folder",pid:0},{id:25,name:"训练数据",icon:"cube",pid:24},{id:26,name:"测试数据",icon:"cube",pid:24}],Yt={props:{id:{type:String,required:!0},name:{type:String},x:{type:Number,default:10},y:{type:Number,default:10},jsplumb:Object,nodeId:Number},data:function(){return{endpointOptions:{maxConnections:-1}}},computed:{iconClass:function(){return"fa fa-1x fa-"+v(this.nodeId)}},methods:{addEndpoint:function(){if(this.jsplumb){this.jsplumb.draggable(this.id,{containment:"parent"});var t={Endpoint:["Dot",{radius:2}],anchor:"Bottom",connectorStyle:{stroke:"#5c96bc",strokeWidth:2,outlineStroke:"transparent",outlineWidth:4},extract:{action:"the-action"},uuid:this.id+"0",maxConnections:-1};this.jsplumb.makeSource(this.id,t,{filter:".jsp-endpoint-circle-bottom"});var e={Endpoint:["Dot",{radius:2}],dropOptions:{hoverClass:"dragHover"},anchor:"Top",uuid:this.id+"1",allowLoopback:!0};this.jsplumb.makeTarget(this.id,e)}},clickNode:function(){this.$emit("on-click",this.id)},removeNode:function(){this.$emit("on-remove",this.id)}},watch:{jsplumb:function(){this.addEndpoint()}},mounted:function(){this.addEndpoint()}},Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jsp-node",style:{left:t.x+"px",top:t.y+"px"},attrs:{id:t.id}},[n("div",{staticClass:"jsp-node-name",on:{click:t.clickNode}},[n("div",{staticClass:"jsp-endpoint-circle jsp-endpoint-circle-top"}),t._v(" "),n("span",[n("i",{class:t.iconClass})]),t._v(" "),n("span",[t._v(t._s(t.name))]),t._v(" "),n("div",{staticClass:"jsp-endpoint-circle jsp-endpoint-circle-bottom"})]),t._v(" "),n("div",{staticClass:"jsp-node-remove",on:{click:t.removeNode}},[t._m(0,!1,!1)])])},Kt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fa fa-1x fa-remove"})])}],te={render:Qt,staticRenderFns:Kt},ee=te,ne=n("VU/8"),ae=b,oe=ne(Yt,ee,!1,ae,null,null),ie=oe.exports,re={components:{JspNodeTest:ie},data:function(){return{jsplumb:null,jspnodes:[{nodeTypeId:2,nodeId:"jspnode_1",name:"node1",x:500,y:20,parents:[],children:["jspnode_2","jspnode_3"]},{nodeTypeId:6,nodeId:"jspnode_2",name:"node2",x:400,y:200,parents:["jspnode_1"],children:["jspnode_4"]},{nodeTypeId:11,nodeId:"jspnode_3",name:"node3",x:300,y:300,parents:["jspnode_1","jspnode_4"],children:[]},{nodeTypeId:7,nodeId:"jspnode_4",name:"node4",x:200,y:200,parents:["jspnode_2"],children:["jspnode_3"]}],selectNode:{},nodes:[],nodeTree:g(),defaultProps:{children:"children",label:"label"}}},methods:{initJsPlumb:function(){var t=this;Bt.jsPlumb.ready(function(){t.jsplumb=Bt.jsPlumb.getInstance({Endpoint:["Dot",{radius:2}],Connector:["Bezier",{curviness:100}],connectorStyle:{stroke:"#5c96bc",strokeWidth:2,outlineStroke:"transparent",outlineWidth:4},HoverPaintStyle:{stroke:"#1e8151",strokeWidth:2,outlineStroke:"transparent",outlineWidth:4},Container:"canvas",Anchors:["Top","Bottom"],ConnectionOverlays:[["Arrow",{location:1,id:"arrow",width:9,length:11,foldback:.8}]]}),t.jsplumb.bind("click",function(e){for(var n in t.jspnodes)if(t.jspnodes[n].nodeId===e.sourceId){t.jspnodes[n].children.splice(t.jspnodes[n].children.indexOf(e.targetId),1);break}t.jsplumb.deleteConnection(e)}),t.jsplumb.bind("connection",function(e){if(e.sourceId===e.targetId)return void t.jsplumb.deleteConnection(e.connection);var n=t.jsplumb.getConnections(),a=n.filter(function(t){return t.sourceId+t.targetId===e.sourceId+e.targetId||t.targetId+t.sourceId===e.sourceId+e.targetId});if(a&&a.length>1)return void a.forEach(function(e,n){n>0&&t.jsplumb.deleteConnection(e)});for(var o in t.jspnodes)t.jspnodes[o].nodeId===e.sourceId&&(t.jspnodes[o].children.includes(e.targetId)||t.jspnodes[o].children.push(e.targetId)),t.jspnodes[o].nodeId===e.targetId&&(t.jspnodes[o].parents.includes(e.sourceId)||t.jspnodes[o].parents.push(e.sourceId))})})},clickNode:function(t){var e=this;for(var n in e.jspnodes)if(e.jspnodes[n].nodeId===t){var a=document.getElementById(t);e.jspnodes[n].x=a.offsetLeft,e.jspnodes[n].y=a.offsetTop,e.selectNode=e.jspnodes[n];break}},removeNode:function(t){var e=this;e.jsplumb.deleteConnectionsForElement(t),e.jsplumb.getEndpoints(t).forEach(function(t){return e.jsplumb.deleteEndpoint(t)});for(var n in e.jspnodes){e.jspnodes[n].nodeId===t&&e.jspnodes.splice(n,1);var a=e.jspnodes[n].children.indexOf(t);a>=0&&e.jspnodes[n].children.splice(a,1);var o=e.jspnodes[n].parents.indexOf(t);o>=0&&e.jspnodes[n].parents.splice(o,1)}},drag:function(t,e){t.dataTransfer.setData("node",Y()(e))},drop:function(t){t.preventDefault();var e=JSON.parse(t.dataTransfer.getData("node"));this.jspnodes.push({nodeTypeId:e.id,nodeId:"jspnode_"+(new Date).getTime()+"_"+this.jspnodes.length,name:e.label,x:t.offsetX,y:t.offsetY,children:[],parents:[]})},allowDrop:function(t){t.preventDefault()},saveFlow:function(){this.jspnodes.forEach(function(t){var e=document.getElementById(t.nodeId);t.x=e.offsetLeft,t.y=e.offsetTop}),this.nodes=this.jspnodes},renderNodeTreeLabel:function(t,e){var n=this,a=e.node,o=e.data;e.store;return t("span",{attrs:{draggable:"true"},on:{dragstart:function(t){return n.drag(t,o)}}},[t("i",{class:"fa fa-1x fa-"+o.icon},[]),t("span",null,[a.label])])}},mounted:function(){this.initJsPlumb()},updated:function(){var t=this;t.$nextTick(function(){t.jsplumb.batch(function(){t.jspnodes.forEach(function(e){e.children&&e.children.length>0&&e.children.forEach(function(n){t.jsplumb.connect({source:e.nodeId,target:n})})})})})}},se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-full-page"},[n("div",{staticClass:"jsp-develop-left"},[t._v("\n    组件区域\n    "),n("el-tree",{staticClass:"jsp-node-tree",attrs:{data:t.nodeTree,props:t.defaultProps,"default-expand-all":"",accordion:"","render-content":t.renderNodeTreeLabel}})],1),t._v(" "),n("div",{staticClass:"jsp-develop-canvas"},[n("div",{staticClass:"jsp-container",attrs:{id:"canvas"},on:{drop:function(e){t.drop(e)},dragover:function(e){t.allowDrop(e)}}},t._l(t.jspnodes,function(e){return n("jsp-node-test",{key:e.nodeId,class:{"jsp-selected":e.nodeId===t.selectNode.nodeId},attrs:{id:e.nodeId,x:e.x,y:e.y,name:e.name,jsplumb:t.jsplumb,nodeId:e.nodeTypeId},on:{"on-click":t.clickNode,"on-remove":t.removeNode}})})),t._v(" "),n("div",{staticClass:"jsp-flow-tool"},[n("el-button",{attrs:{size:"small",type:"success"}},[n("i",{staticClass:"fa fa-1x fa-play-circle"}),t._v(" "),n("span",[t._v("运行")])]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check-outline"},on:{click:t.saveFlow}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{size:"small",icon:"el-icon-circle-close-outline"}},[t._v("关闭")])],1)]),t._v(" "),n("div",{staticClass:"jsp-develop-right"},[t._v("\n    组件编辑区\n    "),n("br"),t._v(" "),n("br"),t._v("\n    选中的组件对象:\n    "),n("br"),t._v("\n    "+t._s(t.selectNode)+"\n    "),n("br"),t._v("\n    流程节点集合:\n    "),n("br"),t._v("\n    "+t._s(t.nodes)+"\n  ")])])},de=[],le={render:se,staticRenderFns:de},ce=le,ue=n("VU/8"),pe=y,me=ue(re,ce,!1,pe,"data-v-425ff2ba",null),he=me.exports,fe=n("3zA4"),ve=n.n(fe),ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-layout",[n("c-menu",[n("c-menu-item",{attrs:{path:"/sys/user",icon:"address-book",name:"用户管理"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/sys/role",icon:"address-book",name:"角色管理"}})],1)],1)},_e=[],be={render:ge,staticRenderFns:_e},ye=be,Ce=n("VU/8"),Me=C,we=Ce(ve.a,ye,!1,Me,null,null),xe=we.exports,je={data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}}},De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)},Ie=[],Ee={render:De,staticRenderFns:Ie},ke=Ee,Se=n("VU/8"),Te=Se(je,ke,!1,null,null,null),Ne=Te.exports,Fe={data:function(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",tag:"家"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄",tag:"公司"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄",tag:"家"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄",tag:"公司"}]}},methods:{formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t}}},Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址",formatter:t.formatter}}),t._v(" "),n("el-table-column",{attrs:{prop:"tag",label:"标签",width:"100",filters:[{text:"家",value:"家"},{text:"公司",value:"公司"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:"家"===e.row.tag?"primary":"success","close-transition":""}},[t._v(t._s(e.row.tag))])]}}])})],1)},$e=[],Oe={render:Pe,staticRenderFns:$e},Le=Oe,Re=n("VU/8"),Be=Re(Fe,Le,!1,null,null,null),Ve=Be.exports;xe.User=Ne,xe.Role=Ve;var He=xe,Ae=n("tO0n"),Ue=n.n(Ae),We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-layout",[n("c-menu",[n("c-menu-item",{attrs:{path:"/echarts/dashboard",icon:"dashboard",name:"仪表盘"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/echarts/bar",icon:"bar-chart",name:"柱状图"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/echarts/line",icon:"line-chart",name:"折线图"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/echarts/linebar",icon:"line-chart",name:"折线&柱状混图"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/echarts/area",icon:"area-chart",name:"面积图"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/echarts/pie",icon:"pie-chart",name:"饼图"}})],1)],1)},ze=[],Je={render:We,staticRenderFns:ze},Ze=Je,Xe=n("VU/8"),qe=M,Ge=Xe(Ue.a,Ze,!1,qe,null,null),Ye=Ge.exports,Qe=function(){return{title:"折线图标题",type:"line",reverse:!1,columns:[{name:"dim",title:"维度",x:!0},{name:"index",title:"指标"}],data:[{dim:"周一",index:800},{dim:"周二",index:600},{dim:"周三",index:500},{dim:"周四",index:400},{dim:"周五",index:500},{dim:"周六",index:600},{dim:"周日",index:700}]}},Ke=function(){return{title:"折线图标题",type:"line",reverse:!1,columns:[{name:"dim",title:"维度",x:!0},{name:"index",title:"指标",area:!0}],data:[{dim:"周一",index:800},{dim:"周二",index:600},{dim:"周三",index:500},{dim:"周四",index:400},{dim:"周五",index:500},{dim:"周六",index:600},{dim:"周日",index:700}]}},tn=function(){return{title:"柱状图标题",type:"bar",reverse:!1,columns:[{name:"dim",title:"维度",x:!0},{name:"index",title:"指标"}],data:[{dim:"周一",index:100},{dim:"周二",index:200},{dim:"周三",index:300},{dim:"周四",index:400},{dim:"周五",index:500},{dim:"周六",index:600},{dim:"周日",index:700}]}},en=function(){return{title:"折线&柱状混图标题",type:"linebar",reverse:!1,columns:[{name:"dim",title:"维度",x:!0},{name:"index1",title:"指标1",type:"line"},{name:"index2",title:"指标2",type:"bar"}],data:[{dim:"周一",index1:100,index2:800},{dim:"周二",index1:200,index2:600},{dim:"周三",index1:300,index2:400},{dim:"周四",index1:400,index2:300},{dim:"周五",index1:500,index2:500},{dim:"周六",index1:600,index2:700},{dim:"周日",index1:700,index2:900}]}},nn=function(){return{title:"饼状图标题",type:"pie",reverse:!1,columns:[{name:"index1",title:"指标1"},{name:"index2",title:"指标2"},{name:"index3",title:"指标3"},{name:"index4",title:"指标4"}],data:[{index1:100,index2:800,index3:200,index4:400}]}},an={data:function(){return{barChartData:{}}},methods:{setChartData:function(){this.barChartData=tn()}},mounted:function(){this.setChartData()}},on=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p-chart",{attrs:{data:t.barChartData,id:"bar",height:400}})},rn=[],sn={render:on,staticRenderFns:rn},dn=sn,ln=n("VU/8"),cn=ln(an,dn,!1,null,null,null),un=cn.exports,pn={data:function(){return{barChartData:{},lineBarChartData:{},areaChartData:{},lineChartData:{},pieChartData:{}}},methods:{setChartData:function(){this.lineChartData=Qe(),this.areaChartData=Ke(),this.barChartData=tn(),this.lineBarChartData=en(),this.pieChartData=nn()}},mounted:function(){this.setChartData()}},mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row p-row"},[n("div",{staticClass:"col-md-12"},[n("p-chart",{attrs:{data:t.lineBarChartData,id:"linebar",height:400}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("p-chart",{attrs:{data:t.pieChartData,id:"pie1",height:400}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("p-chart",{attrs:{data:t.pieChartData,id:"pie2",height:400}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("p-chart",{attrs:{data:t.barChartData,id:"bar",height:400}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("p-chart",{attrs:{data:t.lineChartData,id:"line",height:400}})],1),t._v(" "),n("div",{staticClass:"col-md-12"},[n("p-chart",{attrs:{data:t.areaChartData,id:"area",height:400}})],1)])},hn=[],fn={render:mn,staticRenderFns:hn},vn=fn,gn=n("VU/8"),_n=gn(pn,vn,!1,null,null,null),bn=_n.exports,yn={data:function(){return{lineChartData:{}}},methods:{setChartData:function(){this.lineChartData=Qe()}},mounted:function(){this.setChartData()}},Cn=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p-chart",{attrs:{data:t.lineChartData,id:"line",height:400}})},Mn=[],wn={render:Cn,staticRenderFns:Mn},xn=wn,jn=n("VU/8"),Dn=jn(yn,xn,!1,null,null,null),In=Dn.exports,En={data:function(){return{lineBarChartData:{}}},methods:{setChartData:function(){this.lineBarChartData=en()}},mounted:function(){this.setChartData()}},kn=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p-chart",{attrs:{data:t.lineBarChartData,id:"linebar",height:400}})},Sn=[],Tn={render:kn,staticRenderFns:Sn},Nn=Tn,Fn=n("VU/8"),Pn=Fn(En,Nn,!1,null,null,null),$n=Pn.exports,On={data:function(){return{areaChartData:{}}},methods:{setChartData:function(){this.areaChartData=Ke()}},mounted:function(){this.setChartData()}},Ln=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p-chart",{attrs:{data:t.areaChartData,id:"line",height:400}})},Rn=[],Bn={render:Ln,staticRenderFns:Rn},Vn=Bn,Hn=n("VU/8"),An=Hn(On,Vn,!1,null,null,null),Un=An.exports,Wn={data:function(){return{pieChartData:{}}},methods:{setChartData:function(){this.pieChartData=nn()}},mounted:function(){this.setChartData()}},zn=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p-chart",{attrs:{data:t.pieChartData,id:"pie"}})},Jn=[],Zn={render:zn,staticRenderFns:Jn},Xn=Zn,qn=n("VU/8"),Gn=qn(Wn,Xn,!1,null,null,null),Yn=Gn.exports;Ye.Dashboard=bn,Ye.Bar=un,Ye.Line=In,Ye.LineBar=$n,Ye.Area=Un,Ye.Pie=Yn;var Qn=Ye,Kn=n("P1oP"),ta=n.n(Kn),ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-layout",[n("c-menu",[n("c-menu-item",{attrs:{path:"/bdmap/heat",icon:"fire",name:"热力图"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/bdmap/polygon",icon:"map-o",name:"区域图"}}),t._v(" "),n("c-menu-item",{attrs:{path:"/bdmap/pg-heat",icon:"map-pin",name:"区域热力图"}})],1)],1)},na=[],aa={render:ea,staticRenderFns:na},oa=aa,ia=n("VU/8"),ra=w,sa=ia(ta.a,oa,!1,ra,null,null),da=sa.exports,la={heat:"/api/map/heat",polygon:"/api/map/polygon",pgHeat:"/api/map/pg-heat"},ca=function(t){return ot(la.heat,t)},ua=function(t){return ot(la.polygon,t)},pa=function(t){return ot(la.pgHeat,t)},ma={data:function(){return{bmap:{},cityname:"北京",cityZoom:15,expanded:!0,loading:!0,showHeatMap:!0,sliderValue:15}},methods:{initBMap:function(){var t=this;t.loading=!0,l().then(function(e){t.bmap=new e.Map("bmap",{enableMapClick:!1}),""!==t.cityid&&t.bmap.centerAndZoom(new e.Point(116.418261,39.921984),t.cityZoom),t.bmap.enableScrollWheelZoom(),t.bmap.clearOverlays(),t.bmap.addControl(new e.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,type:BMAP_NAVIGATION_CONTROL_ZOOM}))})},setHeatMap:function(){var t=this;this.heatmapOverlay&&this.bmap.removeOverlay(this.heatmapOverlay),this.showHeatMap=!0,this.loading=!0,ca().then(function(e){t.loading=!1,t.heatmapOverlay=new BMapLib.HeatmapOverlay({radius:20}),t.bmap.addOverlay(t.heatmapOverlay);var n=[];e.result.forEach(function(t){n.push({lng:Number(t.lng),lat:Number(t.lat),count:Number(t.count)})}),t.heatmapOverlay.setDataSet({data:n,max:0===t.sliderValue?1:t.sliderValue})}).catch(this.handleError)},changeSlider:function(t){this.heatmapOverlay.setDataSet({data:this.heatmapOverlay.data.data,max:0===t?1:t})},toggleShowHeatMap:function(){this.heatmapOverlay&&(this.showHeatMap?this.heatmapOverlay.show():this.heatmapOverlay.hide())}},mounted:function(){var t=this;t.$nextTick(function(){t.initBMap()}),window.setTimeout(function(){t.setHeatMap()},1e3)}},ha=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-map"},[n("div",{staticClass:"heat-slide"},[n("div",{staticClass:"heat-tool"},[t._m(0,!1,!1),t._v(" "),n("div",{staticClass:"col-md-9"},[n("el-switch",{on:{change:t.toggleShowHeatMap},model:{value:t.showHeatMap,callback:function(e){t.showHeatMap=e},expression:"showHeatMap"}})],1)]),t._v(" "),n("div",{staticClass:"heat-tool"},[t._m(1,!1,!1),t._v(" "),n("div",{staticClass:"col-md-9"},[n("el-slider",{attrs:{step:5,max:100,disabled:!t.showHeatMap,"show-stops":""},on:{change:t.changeSlider},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1)])]),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{height:"100%",width:"100%"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[n("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"bmap"}})])])},fa=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-3"},[n("span",{staticClass:"heat-tool-title"},[t._v("热力图开关")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-3"},[n("span",{staticClass:"heat-tool-title"},[t._v("权重值")])])}],va={render:ha,staticRenderFns:fa},ga=va,_a=n("VU/8"),ba=x,ya=_a(ma,ga,!1,ba,"data-v-60c6f63c",null),Ca=ya.exports,Ma={data:function(){return{bmap:{},cityname:"北京",cityZoom:12,expanded:!0,loading:!0,selectPolygon:{},showLeftPanel:!1,colors:[{color:"#b4e0f3",start:"",end:1},{color:"#1482e5",start:1,end:2},{color:"#53ff53",start:2,end:3},{color:"#ffe66f",start:3,end:4},{color:"#ff0000",start:4,end:""}],selectColor:"#000000",hoverColor:"#ffffff"}},methods:{initBMap:function(){var t=this;t.loading=!0,d().then(function(e){t.bmap=new e.Map("bmap",{enableMapClick:!1}),""!==t.cityid&&t.bmap.centerAndZoom("北京",t.cityZoom),t.bmap.enableScrollWheelZoom(),t.bmap.clearOverlays(),t.bmap.addControl(new e.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,type:BMAP_NAVIGATION_CONTROL_ZOOM})),t.setPolygonMap()})},setPolygonMap:function(){var t=this;t.bmap.clearOverlays(),t.loading=!0,pa().then(function(e){if(t.loading=!1,e.result.length>0){e.result.sort(function(t,e){return t.count-e.count});var n=e.result.length,a=Math.round(.2*n)-1;a<0&&(a=0);var o=Math.round(.4*n)-1;o<0&&(o=0);var i=Math.round(.6*n)-1;i<0&&(i=0);var r=Math.round(.8*n)-1;r<0&&(r=0);var s=e.result[a].count,d=e.result[o].count,l=e.result[i].count,c=e.result[r].count;0===s&&(s=1),d<=s&&(d=s+1),l<=d&&(l=d+1),c<=l&&(c=l+1),t.colors[0].end=s,t.colors[1].start=s,t.colors[1].end=d,t.colors[2].start=d,t.colors[2].end=l,t.colors[3].start=l,t.colors[3].end=c,t.colors[4].start=c,e.result.forEach(function(e){var n=t.colors[0].color;for(var a in t.colors)if(0===Number(a)){if(e.count<t.colors[a].end){n=t.colors[a].color;break}}else if(Number(a)===t.colors.length-1){if(e.count>=t.colors[a].start){n=t.colors[a].color;break}}else if(e.count>=t.colors[a].start&&e.count<t.colors[a].end){n=t.colors[a].color;break}var o=[];e.range&&e.range.forEach(function(t){o.push(new BMap.Point(t.lng,t.lat))});var i=new BMap.Polygon(o,{strokeWeight:2,strokeColor:"#0905ff",fillColor:n});i.circleId=e.id,i.circleName=e.name&&""!==e.name?e.name:"未命名商圈",i.circleFillColor=n,i.addEventListener("click",function(e){t.setLeftCircleDataPanel(i)}),i.addEventListener("mouseover",function(e){i!==t.selectPolygon&&i.setFillColor(t.hoverColor)}),i.addEventListener("mouseout",function(e){i!==t.selectPolygon&&i.setFillColor(n)}),t.bmap.addOverlay(i)}),t.bmap.centerAndZoom(t.cityname,t.cityZoom)}}).catch(this.handleError)},setLeftCircleDataPanel:function(t){this.selectPolygon=t,this.showLeftPanel=!0}},watch:{selectPolygon:function(t,e){t&&t.setFillColor(this.selectColor),e&&e.setFillColor(e.circleFillColor)}},mounted:function(){var t=this;t.$nextTick(function(){t.initBMap()})}},wa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-map"},[t.showLeftPanel?n("div",{staticClass:"p-map-left-panel"},[t._v("\n    区域ID:"+t._s(t.selectPolygon.circleId)+"\n    区域名称:"+t._s(t.selectPolygon.circleName)+"\n  ")]):t._e(),t._v(" "),n("div",{staticClass:"p-map-right-panel legendInfo"},[n("ul",[n("li",[n("p",{staticClass:"legend-label-long",style:{"background-color":t.colors[4].color}}),t._v(" "),n("p",{staticClass:"legend-name-long"},[t._v("> "+t._s(t.colors[4].start))])]),t._v(" "),n("li",[n("p",{staticClass:"legend-label-long",style:{"background-color":t.colors[3].color}}),t._v(" "),n("p",{staticClass:"legend-name-long"},[t._v(t._s(t.colors[3].start)+"   -   "+t._s(t.colors[3].end))])]),t._v(" "),n("li",[n("p",{staticClass:"legend-label-long",style:{"background-color":t.colors[2].color}}),t._v(" "),n("p",{staticClass:"legend-name-long"},[t._v(t._s(t.colors[2].start)+"   -   "+t._s(t.colors[2].end))])]),t._v(" "),n("li",[n("p",{staticClass:"legend-label-long",style:{"background-color":t.colors[1].color}}),t._v(" "),n("p",{staticClass:"legend-name-long"},[t._v(t._s(t.colors[1].start)+"   -   "+t._s(t.colors[1].end))])]),t._v(" "),n("li",[n("p",{staticClass:"legend-label-long",style:{"background-color":t.colors[0].color}}),t._v(" "),n("p",{staticClass:"legend-name-long"},[t._v("< "+t._s(t.colors[0].end))])])])]),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{height:"100%",width:"100%"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[n("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"bmap"}})])])},xa=[],ja={render:wa,staticRenderFns:xa},Da=ja,Ia=n("VU/8"),Ea=j,ka=Ia(Ma,Da,!1,Ea,"data-v-39b40c25",null),Sa=ka.exports,Ta={data:function(){return{bmap:{},cityname:"北京",cityZoom:12,expanded:!0,loading:!0,selectPolygon:{},showLeftPanel:!1}},methods:{initBMap:function(){var t=this;t.loading=!0,d().then(function(e){t.bmap=new e.Map("bmap",{enableMapClick:!1}),""!==t.cityid&&t.bmap.centerAndZoom("北京",t.cityZoom),t.bmap.enableScrollWheelZoom(),t.bmap.clearOverlays(),t.bmap.addControl(new e.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,type:BMAP_NAVIGATION_CONTROL_ZOOM})),t.setPolygonMap()})},setPolygonMap:function(){var t=this;t.bmap.clearOverlays(),t.loading=!0,ua().then(function(e){t.loading=!1,e.result.forEach(function(e,n){var a=e.center,o=new BMap.Point(a.lng,a.lat),i=[];e.range.forEach(function(t){i.push(new BMap.Point(t.lng,t.lat))});var r=new BMap.Polygon(i,{strokeWeight:2,strokeColor:"#0905ff",fillOpacity:.8});r.circleId=e.id,r.circleName=e.name&&""!==e.name?e.name:"未命名商圈",r.addEventListener("click",function(e){t.setLeftCircleDataPanel(r)}),t.bmap.addOverlay(r);var s=0;e.name.length>0&&(s=e.name.length/2*-10);var d=new BMap.Label(e.name,{position:o,offset:new BMap.Size(s,-10)});t.bmap.addOverlay(d),d.addEventListener("click",function(e){t.setLeftCircleDataPanel(r)}),0===n&&t.setLeftCircleDataPanel(r)})}).catch(this.handleError)},setLeftCircleDataPanel:function(t){this.selectPolygon=t,this.showLeftPanel=!0}},watch:{selectPolygon:function(t,e){t&&t.setFillColor("#409EFF"),e&&e.setFillColor("#fff")}},mounted:function(){var t=this;t.$nextTick(function(){t.initBMap()})}},Na=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-map"},[t.showLeftPanel?n("div",{staticClass:"p-map-left-panel"},[t._v("\n    区域ID:"+t._s(t.selectPolygon.circleId)+"\n    区域名称:"+t._s(t.selectPolygon.circleName)+"\n  ")]):t._e(),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{height:"100%",width:"100%"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[n("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"bmap"}})])])},Fa=[],Pa={render:Na,staticRenderFns:Fa},$a=Pa,Oa=n("VU/8"),La=D,Ra=Oa(Ta,$a,!1,La,"data-v-d913518c",null),Ba=Ra.exports;da.HeatMap=Ca,da.PGHeat=Sa,da.Polygon=Ba;var Va=da;L.default.use(Z.a);var Ha={header:"headerMenu",left:"leftMenu"},Aa=new Z.a({routes:[{path:"/",name:"Login",component:_t},{path:"/test",name:"Test",component:he},{path:"/scene",name:"Scene",component:qt},{path:"/scene/develop",name:"SceneDevelop",component:qt.SceneDevelop},{path:"/sys",name:"",component:He,type:Ha.header,children:[{path:"user",name:"用户管理",component:He.User,type:Ha.left},{path:"role",name:"角色管理",component:He.Role,type:Ha.left}]},{path:"/echarts",name:"",component:Qn,type:Ha.header,children:[{path:"dashboard",name:"仪表盘",component:Qn.Dashboard,type:Ha.left},{path:"line",name:"折线图",component:Qn.Line,type:Ha.left},{path:"area",name:"面积图",component:Qn.Area,type:Ha.left},{path:"bar",name:"柱状图",component:Qn.Bar,type:Ha.left},{path:"linebar",name:"折线&柱状混图",component:Qn.LineBar,type:Ha.left},{path:"pie",name:"饼图图",component:Qn.Pie,type:Ha.left}]},{path:"/bdmap",name:"",component:Va,type:Ha.header,children:[{path:"heat",name:"热力图",component:Va.HeatMap,type:Ha.left},{path:"polygon",name:"区域图",component:Va.Polygon,type:Ha.left},{path:"pg-heat",name:"区域热力图",component:Va.PGHeat,type:Ha.left}]}]}),Ua=["/noauth","/test","/console"];Aa.beforeEach(function(t,e,n){var a=!1;if(Ua.forEach(function(e){("/"===t.path||"/"!==e&&t.path.startsWith(e))&&(a=!1)}),a){null===o()&&(r(),n("/"))}else{var i={};if(Aa.options.routes.forEach(function(e){e.path===t.path&&(i=e)}),i==={}||void 0===i.children||0===i.children.length)n();else{var s=i.children[0];n(t.path+"/"+s.path)}}});var Wa=Aa,za=n("zL8q"),Ja=n.n(za),Za=(n("tvR6"),n("KorX")),Xa=n.n(Za),qa=[{name:"张某某",email:"admin@daojia.com",password:"123456",username:"admin",token:"43e3ec99-c8a3-47ec-afd7-775b7c073285"}],Ga={bootstrap:function(t){t.onPost(rt.login).reply(function(t){var e=JSON.parse(t.data),n=e.username,a=e.password;return new q.a(function(t,e){var o=null;setTimeout(function(){var e="请求成功",i=qa.some(function(t){return t.username!==n||t.password!==a?(e="账号或密码错误",!1):(o=t,!0)});t(i?[200,{code:0,msg:e,result:o}]:[200,{code:100,msg:e,result:{}}])},500)})}),t.onPost(rt.logout).reply(function(t){return new q.a(function(t,e){t([200,{code:0,msg:"success",result:{}}])})})}},Ya=[{id:1,name:"场景一",description:"不知道飞机打开了房间啊的骄傲放开了房间啊jfkasl打开房间啊可怜的房间爱上了健康kdsjfklasj肯德基疯狂拉升的减肥啦大的发",creator:"admin",createtime:(new Date).getTime()},{id:2,name:"场景二",description:"的法法师法师法师打发查",creator:"admin",createtime:(new Date).getTime()},{id:3,name:"场景三",description:"而委托人为他人违规放到后端法规和方式",creator:"admin",createtime:(new Date).getTime()},{id:4,name:"场景四",description:"发生的发生的发生发生的发",creator:"admin",createtime:(new Date).getTime()},{id:5,name:"场景五",description:"覆盖公司的弗格森的符合符合人体无法v在v",creator:"admin",createtime:(new Date).getTime()},{id:6,name:"场景六",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:7,name:"场景七",description:"与各界提供方便v成本持续",creator:"admin",createtime:(new Date).getTime()},{id:8,name:"场景八",description:"股一统江湖甘拜下风大大方方地方v",creator:"admin",createtime:(new Date).getTime()},{id:9,name:"场景九",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:10,name:"场景十",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:11,name:"场景十一",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:12,name:"场景十二",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:13,name:"场景十三",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:14,name:"场景十四",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:15,name:"场景十五",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:16,name:"场景十六",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:17,name:"场景十七",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:18,name:"场景十八",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()},{id:19,name:"场景十九",description:"不知道飞机打开了房间啊的骄傲放开了房间啊大的发",creator:"admin",createtime:(new Date).getTime()}],Qa={bootstrap:function(t){t.onGet(bt.list).reply(function(t){var e=t.page,n=t.pageSize;return console.log("分页查询场景实验列表,参数:{}",{page:e,pageSize:n}),new q.a(function(t,a){var o=[],i=(e-1)*n;if(Ya.length>i){var r=i+n;o=Ya.slice(i,r)}t([200,{code:0,msg:"",result:o}])})}),t.onPost(bt.saveOrUpdate).reply(function(t){var e=JSON.parse(t.data),n=e.id,a=e.name,o=e.description;return console.log("新增场景实验,参数:{}",JSON.parse(t.data)),new q.a(function(t,e){var i={id:n&&""!==n?Number(n):Ya.length+1,name:a,description:o,creator:"admin",createtime:(new Date).getTime()};if(n&&""!==n)for(var r in Ya)Ya[r].id===i.id&&(Ya[r]=i);else Ya.unshift(i);t([200,{code:0,msg:"",result:i}])})}),t.onPost(bt.flowChart).reply(function(t){var e=JSON.parse(t.data);e.sceneId;return console.log("获取流程图,参数:{}",JSON.parse(t.data)),new q.a(function(t,e){var n=(new Date).getTime(),a="jspnode_"+n+"_1",o="jspnode_"+n+"_2",i="jspnode_"+n+"_3",r="jspnode_"+n+"_4",s="jspnode_"+n+"_5",d="jspnode_"+n+"_6",l="jspnode_"+n+"_7";t([200,{code:0,msg:"",result:[{nodeCode:"db_hive",nodeDomId:a,name:"hive",x:500,y:20,parents:[],children:[o,r,s,d,l]},{nodeCode:"fp_normalization",nodeDomId:o,name:"归一化",x:200,y:200,parents:[a],children:[i]},{nodeCode:"ds_random",nodeDomId:i,name:"随机分组",x:500,y:400,parents:[o,r,s,d,l],children:[]},{nodeCode:"fp_miss_value",nodeDomId:r,name:"缺失值处理",x:300,y:200,parents:[a],children:[i]},{nodeCode:"fp_bucket",nodeDomId:s,name:"分箱",x:500,y:200,parents:[a],children:[i]},{nodeCode:"fp_discretization",nodeDomId:d,name:"离散化",x:700,y:200,parents:[a],children:[i]},{nodeCode:"fp_value_range",nodeDomId:l,name:"取值范围",x:800,y:200,parents:[a],children:[i]}]}])})})}},Ka=[{lng:116.418261,lat:39.921984,count:Math.round(100*Math.random())},{lng:116.423332,lat:39.916532,count:Math.round(100*Math.random())},{lng:116.419787,lat:39.930658,count:Math.round(100*Math.random())},{lng:116.418455,lat:39.920921,count:Math.round(100*Math.random())},{lng:116.418843,lat:39.915516,count:Math.round(100*Math.random())},{lng:116.42546,lat:39.918503,count:Math.round(100*Math.random())},{lng:116.423289,lat:39.919989,count:Math.round(100*Math.random())},{lng:116.418162,lat:39.915051,count:Math.round(100*Math.random())},{lng:116.422039,lat:39.91782,count:Math.round(100*Math.random())},{lng:116.41387,lat:39.917253,count:Math.round(100*Math.random())},{lng:116.41773,lat:39.919426,count:Math.round(100*Math.random())},{lng:116.421107,lat:39.916445,count:Math.round(100*Math.random())},{lng:116.417521,lat:39.917943,count:Math.round(100*Math.random())},{lng:116.419812,lat:39.920836,count:Math.round(100*Math.random())},{lng:116.420682,lat:39.91463,count:Math.round(100*Math.random())},{lng:116.415424,lat:39.924675,count:Math.round(100*Math.random())},{lng:116.419242,lat:39.914509,count:Math.round(100*Math.random())},{lng:116.422766,lat:39.921408,count:Math.round(100*Math.random())},{lng:116.421674,lat:39.924396,count:Math.round(100*Math.random())},{lng:116.427268,lat:39.92267,count:Math.round(100*Math.random())},{lng:116.417721,lat:39.920034,count:Math.round(100*Math.random())},{lng:116.412456,lat:39.92667,count:Math.round(100*Math.random())},{lng:116.420432,lat:39.919114,count:Math.round(100*Math.random())},{lng:116.425013,lat:39.921611,count:Math.round(100*Math.random())},{lng:116.418733,lat:39.931037,count:Math.round(100*Math.random())},{lng:116.419336,lat:39.931134,count:Math.round(100*Math.random())},{lng:116.413557,lat:39.923254,count:Math.round(100*Math.random())},{lng:116.418367,lat:39.92943,count:Math.round(100*Math.random())},{lng:116.424312,lat:39.919621,count:Math.round(100*Math.random())},{lng:116.423874,lat:39.919447,count:Math.round(100*Math.random())},{lng:116.424225,lat:39.923091,count:Math.round(100*Math.random())},{lng:116.417801,lat:39.921854,count:Math.round(100*Math.random())},{lng:116.417129,lat:39.928227,count:Math.round(100*Math.random())},{lng:116.426426,lat:39.922286,count:Math.round(100*Math.random())},{lng:116.421597,lat:39.91948,count:Math.round(100*Math.random())},{lng:116.423895,lat:39.920787,count:Math.round(100*Math.random())},{lng:116.423563,lat:39.921197,count:Math.round(100*Math.random())},{lng:116.417982,lat:39.922547,count:Math.round(100*Math.random())},{lng:116.426126,lat:39.921938,count:Math.round(100*Math.random())},{lng:116.42326,lat:39.915782,count:Math.round(100*Math.random())},{lng:116.419239,lat:39.916759,count:Math.round(100*Math.random())},{lng:116.417185,lat:39.929123,count:Math.round(100*Math.random())},{lng:116.417237,lat:39.927518,count:Math.round(100*Math.random())},{lng:116.417784,lat:39.915754,count:Math.round(100*Math.random())},{lng:116.420193,lat:39.917061,count:Math.round(100*Math.random())},{lng:116.422735,lat:39.915619,count:Math.round(100*Math.random())},{lng:116.418495,lat:39.915958,count:Math.round(100*Math.random())},{lng:116.416292,lat:39.931166,count:Math.round(100*Math.random())},{lng:116.419916,lat:39.924055,count:Math.round(100*Math.random())},{lng:116.42189,lat:39.921308,count:Math.round(100*Math.random())},{lng:116.413765,lat:39.929376,count:Math.round(100*Math.random())},{lng:116.418232,lat:39.920348,count:Math.round(100*Math.random())},{lng:116.417554,lat:39.930511,count:Math.round(100*Math.random())},{lng:116.418568,lat:39.918161,count:Math.round(100*Math.random())},{lng:116.413461,lat:39.926306,count:Math.round(100*Math.random())},{lng:116.42232,lat:39.92161,count:Math.round(100*Math.random())},{lng:116.4174,lat:39.928616,count:Math.round(100*Math.random())},{lng:116.424679,lat:39.915499,count:Math.round(100*Math.random())},{lng:116.42171,lat:39.915738,count:Math.round(100*Math.random())},{lng:116.417836,lat:39.916998,count:Math.round(100*Math.random())},{lng:116.420755,lat:39.928001,count:Math.round(100*Math.random())},{lng:116.414077,lat:39.930655,count:Math.round(100*Math.random())},{lng:116.426092,lat:39.922995,count:Math.round(100*Math.random())},{lng:116.41535,lat:39.931054,count:Math.round(100*Math.random())},{lng:116.413022,lat:39.921895,count:Math.round(100*Math.random())},{lng:116.415551,lat:39.913373,count:Math.round(100*Math.random())},{lng:116.421191,lat:39.926572,count:Math.round(100*Math.random())},{lng:116.419612,lat:39.917119,count:Math.round(100*Math.random())},{lng:116.418237,lat:39.921337,count:Math.round(100*Math.random())},{lng:116.423776,lat:39.921919,count:Math.round(100*Math.random())},{lng:116.417694,lat:39.92536,count:Math.round(100*Math.random())},{lng:116.415377,lat:39.914137,count:Math.round(100*Math.random())},{lng:116.417434,lat:39.914394,count:Math.round(100*Math.random())},{lng:116.42588,lat:39.922622,count:Math.round(100*Math.random())},{lng:116.418345,lat:39.919467,count:Math.round(100*Math.random())},{lng:116.426883,lat:39.917171,count:Math.round(100*Math.random())},{lng:116.423877,lat:39.916659,count:Math.round(100*Math.random())},{lng:116.415712,lat:39.915613,count:Math.round(100*Math.random())},{lng:116.419869,lat:39.931416,count:Math.round(100*Math.random())},{lng:116.416956,lat:39.925377,count:Math.round(100*Math.random())},{lng:116.42066,lat:39.925017,count:Math.round(100*Math.random())},{lng:116.416244,lat:39.920215,count:Math.round(100*Math.random())},{lng:116.41929,lat:39.915908,count:Math.round(100*Math.random())},{lng:116.422116,lat:39.919658,count:Math.round(100*Math.random())},{lng:116.4183,lat:39.925015,count:Math.round(100*Math.random())},{lng:116.421969,lat:39.913527,count:Math.round(100*Math.random())},{lng:116.422936,lat:39.921854,count:Math.round(100*Math.random())},{lng:116.41905,lat:39.929217,count:Math.round(100*Math.random())},{lng:116.424579,lat:39.914987,count:Math.round(100*Math.random())},{lng:116.42076,lat:39.915251,count:Math.round(100*Math.random())},{lng:116.425867,lat:39.918989,count:Math.round(100*Math.random())}],to=[{id:345,range:[{lng:116.453460847,lat:39.8378190816},{lng:116.472673756,lat:39.8390887475},{lng:116.49205276,lat:39.854470512},{lng:116.495850319,lat:39.8776670502},{lng:116.555487091,lat:39.8750771493},{lng:116.556750589,lat:39.8564351803},{lng:116.533156545,lat:39.838964538},{lng:116.519133768,lat:39.8281776434},{lng:116.512525868,lat:39.8247657192},{lng:116.483210454,lat:39.8112289691}],name:"大武基",center:{lng:116.5074302,lat:39.8443694591},count:Math.round(1e3*Math.random())},{id:346,range:[{lng:116.385004257,lat:39.9939422084},{lng:116.38806527,lat:39.9830774016},{lng:116.387435138,lat:39.9743511},{lng:116.414378563,lat:39.97542406},{lng:116.414203609,lat:39.9947786208}],name:"北土城",center:{lng:116.397817367,lat:39.9843146782},count:Math.round(1e3*Math.random())}],eo={bootstrap:function(t){t.onGet(la.heat).reply(function(t){return new q.a(function(t,e){t([200,{code:0,msg:"",result:Ka}])})}),t.onGet(la.polygon).reply(function(t){return new q.a(function(t,e){t([200,{code:0,msg:"",result:to}])})}),t.onGet(la.pgHeat).reply(function(t){return new q.a(function(t,e){t([200,{code:0,msg:"",result:to}])})})}},no={bootstrap:function(){var t=new Xa.a(at.a);Ga.bootstrap(t),Qa.bootstrap(t),eo.bootstrap(t)}},ao=function(t){wr.$message(t)},oo=function(t){wr.$message({message:t,type:"success"})},io=function(t){wr.$message({message:t,type:"warning"})},ro=function(t){wr.$message.error(t)},so=function(t){wr.$notify.info({title:"消息",message:t})},lo=function(t){wr.$notify({title:"成功",message:t,type:"success"})},co=function(t){wr.$notify({title:"警告",message:t,type:"warning"})},uo=function(t){wr.$notify.error({title:"错误",message:t})};at.a.defaults.baseURL="",at.a.interceptors.request.use(function(t){var e=o();return e&&(t.data?t.data.token=e.token:t.data={token:e.token}),t},function(t){return q.a.reject(t)}),at.a.interceptors.response.use(function(t){return t.data?0===t.data.code?t:400!==t.data.code&&401!==t.data.code?(uo(t.data.msg),q.a.reject(t.data.msg)):(r(),void(window.location.href="/")):(vue.$notify.error({title:"错误提示",message:"response error"}),q.a.reject(new Error("response error")))},function(t){return q.a.reject(t)});var po=(at.a,n("Jmt5"),n("e0XP"),n("4omS"),n("p5qK"),{methods:{logout:function(){dt().catch(this.handleError),this.$router.push("/")}}}),mo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row p-row p-header"},[n("div",{staticClass:"p-logo"},[t._v("\n    P系统\n  ")]),t._v(" "),n("div",{staticClass:"p-header-navbar"},[n("ul",[n("c-menu-item",{attrs:{path:"/sys",icon:"users",name:"系统管理",notooltip:""}}),t._v(" "),n("c-menu-item",{attrs:{path:"/scene",icon:"cubes",name:"机器学习",notooltip:""}}),t._v(" "),n("c-menu-item",{attrs:{path:"/echarts",icon:"area-chart",name:"echart图表可视化",notooltip:""}}),t._v(" "),n("c-menu-item",{attrs:{path:"/bdmap",icon:"map",name:"百度地图可视化",notooltip:""}}),t._v(" "),n("c-menu-item",{attrs:{path:"https://github.com/xiaoping1988",icon:"github-square",name:"github",notooltip:"",openWindow:""}})],1)]),t._v(" "),n("div",{staticClass:"p-header-right"},[t._m(0,!1,!1),t._v(" "),n("span",[t._v("admin")]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("span",[n("i",{staticClass:"fa fa-sign-out fa-1x",attrs:{title:"退出登录"},on:{click:t.logout}})])])])},ho=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fa fa-user fa-1x"})])}],fo={render:mo,staticRenderFns:ho},vo=fo,go=n("VU/8"),_o=I,bo=go(po,vo,!1,_o,null,null),yo=bo.exports,Co=n("MEVT"),Mo=n.n(Co),wo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-layout",attrs:{id:"p-layout"}},[n("c-header"),t._v(" "),t._t("default"),t._v(" "),n("div",{staticClass:"p-page-content"},[n("router-view")],1)],2)},xo=[],jo={render:wo,staticRenderFns:xo},Do=jo,Io=n("VU/8"),Eo=E,ko=Io(Mo.a,Do,!1,Eo,null,null),So=ko.exports,To=n("eEAO"),No=n.n(To),Fo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-layout p-no-navside",attrs:{id:"p-layout"}},[n("c-header"),t._v(" "),n("div",{staticClass:"p-page-content"},[t._t("default")],2)],1)},Po=[],$o={render:Fo,staticRenderFns:Po},Oo=$o,Lo=n("VU/8"),Ro=k,Bo=Lo(No.a,Oo,!1,Ro,null,null),Vo=Bo.exports,Ho={props:{title:String}},Ao=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-panel"},[n("div",{staticClass:"p-panel-head"},[t.title&&""!==t.title?n("div",{staticClass:"p-panel-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"p-panel-head-right"},[t._t("right")],2)]),t._v(" "),n("div",{staticClass:"p-panel-content"},[t._t("default")],2)])},Uo=[],Wo={render:Ao,staticRenderFns:Uo},zo=Wo,Jo=n("VU/8"),Zo=S,Xo=Jo(Ho,zo,!1,Zo,null,null),qo=Xo.exports;So.Header=yo,So.LayoutNoSide=Vo,So.Panel=qo;var Go=So,Yo={data:function(){return{display:!1}},methods:{toggleDisplay:function(){this.display=!this.display;var t=this.$refs.mlNavSide;t.parentElement.classList.contains("p-navside-stop")?t.parentElement.classList.remove("p-navside-stop"):t.parentElement.classList.add("p-navside-stop")}}},Qo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"mlNavSide",staticClass:"p-navside"},[n("div",{staticClass:"p-navside-toggle",on:{click:t.toggleDisplay}},[n("i",{staticClass:"fa fa-1x fa-chevron-left",class:{"fa-chevron-left":!t.display,"fa-chevron-right":t.display}})]),t._v(" "),n("div",{staticClass:"p-navside-menu"},[n("ul",[t._t("default")],2)])])},Ko=[],ti={render:Qo,staticRenderFns:Ko},ei=ti,ni=n("VU/8"),ai=T,oi=ni(Yo,ei,!1,ai,null,null),ii=oi.exports,ri={props:{path:{type:String,required:!0},icon:String,name:String,notooltip:{type:Boolean,default:!1},openWindow:{type:Boolean,default:!1}},data:function(){return{isActived:!1,iconClass:"fa fa-1x fa-"+this.icon,title:this.name,tooltipDisabled:!0}},watch:{$route:"activeItem"},methods:{activeItem:function(t,e){var n=this.path;t.fullPath===n?this.isActived=!0:(n.endsWith("/")||(n+="/"),this.isActived=t.fullPath.startsWith(n))},hoverLi:function(){document.getElementsByClassName("p-navside-stop").length>0?this.tooltipDisabled=!1:this.tooltipDisabled=!0},push:function(){this.openWindow?window.open(this.path):this.$router.push(this.path)}},mounted:function(){this.activeItem(this.$route)}},si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notooltip?n("li",{class:{actived:t.isActived},on:{click:t.push}},[t.icon&&""!==t.icon?n("span",{staticClass:"p-menu-item-icon"},[n("i",{class:t.iconClass})]):t._e(),t._v(" "),n("span",{staticClass:"p-menu-item-name"},[t._v("\n    "+t._s(t.name)+"\n    ")])]):n("el-tooltip",{attrs:{disabled:t.tooltipDisabled,effect:"light",content:t.name,placement:"right"}},[n("li",{class:{actived:t.isActived},on:{click:function(e){t.$router.push(t.path)},mouseover:t.hoverLi}},[t.icon&&""!==t.icon?n("span",{staticClass:"p-menu-item-icon"},[n("i",{class:t.iconClass})]):t._e(),t._v(" "),n("span",{staticClass:"p-menu-item-name"},[t._v("\n    "+t._s(t.name)+"\n    ")])])])},di=[],li={render:si,staticRenderFns:di},ci=li,ui=n("VU/8"),pi=N,mi=ui(ri,ci,!1,pi,null,null),hi=mi.exports;ii.MenuItem=hi;var fi=ii,vi={props:{id:{type:String,required:!0},name:{type:String},x:{type:Number,default:10},y:{type:Number,default:10},jsplumb:Object,nodeCode:[String,Number]},data:function(){return{endpointOptions:{maxConnections:-1}}},computed:{iconClass:function(){return"fa fa-1x fa-"+p(this.nodeCode)}},methods:{addEndpoint:function(){if(this.jsplumb){this.jsplumb.draggable(this.id,{containment:"parent"});var t={Endpoint:["Dot",{radius:2}],anchor:"Bottom",connectorStyle:{stroke:"#5c96bc",strokeWidth:2,outlineStroke:"transparent",outlineWidth:4},extract:{action:"the-action"},uuid:this.id+"0",maxConnections:-1};this.jsplumb.makeSource(this.id,t,{filter:".jsp-endpoint-circle-bottom"});var e={Endpoint:["Dot",{radius:2}],dropOptions:{hoverClass:"dragHover"},anchor:"Top",uuid:this.id+"1",allowLoopback:!0};this.jsplumb.makeTarget(this.id,e),this.jsplumb.fire("jsPlumbNodeAdded",this.id)}},clickNode:function(){this.$emit("on-click",this.id)},removeNode:function(){this.$emit("on-remove",this.id)}},watch:{jsplumb:function(){this.addEndpoint()}},mounted:function(){this.addEndpoint()}},gi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jsp-node",style:{left:t.x+"px",top:t.y+"px"},attrs:{id:t.id}},[n("div",{staticClass:"jsp-node-name",on:{click:t.clickNode}},[n("div",{staticClass:"jsp-endpoint-circle jsp-endpoint-circle-top"}),t._v(" "),n("span",[n("i",{class:t.iconClass})]),t._v(" "),n("span",[t._v(t._s(t.name))]),t._v(" "),n("div",{staticClass:"jsp-endpoint-circle jsp-endpoint-circle-bottom"})]),t._v(" "),n("div",{staticClass:"jsp-node-remove",on:{click:t.removeNode}},[t._m(0,!1,!1)])])},_i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fa fa-1x fa-remove"})])}],bi={render:gi,staticRenderFns:_i},yi=bi,Ci=n("VU/8"),Mi=F,wi=Ci(vi,yi,!1,Mi,null,null),xi=wi.exports,ji={JspNode:xi},Di={props:{nohr:{type:Boolean,default:!1}},methods:{handleSubmit:function(){this.$emit("on-submit")},handleCancel:function(){this.$emit("on-cancel")}}},Ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.nohr?t._e():n("hr"),t._v(" "),n("div",{style:{textAlign:"center",padding:t.nohr?"0px":"10px 0px 10px 0px"}},[n("el-button",{attrs:{icon:"el-icon-circle-check-outline",type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-circle-close-outline"},on:{click:t.handleCancel}},[t._v("取消")])],1)])},Ei=[],ki={render:Ii,staticRenderFns:Ei},Si=ki,Ti=n("VU/8"),Ni=P,Fi=Ti(Di,Si,!1,Ni,null,null),Pi=Fi.exports,$i={FormButton:Pi},Oi=$i,Li={props:{val:Number,pattern:{type:String,default:"yyyy-MM-dd HH:mm:ss"}},computed:{dateFormat:function(){return s(new Date(this.val),this.pattern)}}},Ri=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v(t._s(t.dateFormat))])},Bi=[],Vi={render:Ri,staticRenderFns:Bi},Hi=Vi,Ai=n("VU/8"),Ui=$,Wi=Ai(Li,Hi,!1,Ui,null,null),zi=Wi.exports,Ji={props:{val:[String,Number]}},Zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!=t.val&&null!=t.val&&""!==t.val?n("span",[n("span",[t._v("(")]),t._v(" "),n("c-format-growth-rate",{attrs:{val:t.val}}),t._v(" "),n("span",[t._v(")")])],1):t._e()},Xi=[],qi={render:Zi,staticRenderFns:Xi},Gi=qi,Yi=n("VU/8"),Qi=Yi(Ji,Gi,!1,null,null,null),Ki=Qi.exports,tr={props:{val:[Number,String],type:{type:String,default:"num"}},data:function(){return{spanText:""}},methods:{updateSpanText:function(){if(this.val||0===this.val||!isNaN(this.val)){var t=this.val.toString(),e="";t.includes(".")&&(e=t.substring(t.indexOf(".")),t=t.substring(0,t.indexOf("."))),this.spanText=t.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")+e}}},watch:{val:function(t,e){this.updateSpanText()}},mounted:function(){this.updateSpanText()}},er=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v(t._s(t.type.includes("amt")?"￥":"")+t._s(t.spanText)+t._s(t.type.includes("rate")?"%":""))])},nr=[],ar={render:er,staticRenderFns:nr},or=ar,ir=n("VU/8"),rr=O,sr=ir(tr,or,!1,rr,null,null),dr=sr.exports,lr={props:{val:[String,Number]}},cr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return isNaN(t.val)?n("span",{staticClass:"up-rate"},[t._v("\n  "+t._s(t.val)+"\n")]):n("span",[Number(t.val)>=0?n("Icon",{staticClass:"up-rate",staticStyle:{margin:"0px"},attrs:{type:"arrow-up-c"}}):n("Icon",{staticClass:"down-rate",staticStyle:{margin:"0px"},attrs:{type:"arrow-down-c"}}),t._v(" "),Number(t.val)>=0?n("span",{staticClass:"up-rate"},[t._v(t._s(t.val)+"%")]):n("span",{staticClass:"down-rate"},[t._v(t._s(-1*t.val)+"%")])],1)},ur=[],pr={render:cr,staticRenderFns:ur},mr=pr,hr=n("VU/8"),fr=hr(lr,mr,!1,null,null,null),vr=fr.exports,gr={CFormatDate:zi,CFormatSufRate:Ki,CFormatVal:dr,CFormatGrowthRate:vr},_r=gr,br={CHeader:Go.Header,CLayout:Go,CLayoutNoSide:Go.LayoutNoSide,CMenu:fi,CMenuItem:fi.MenuItem,CPanel:Go.Panel,JspNode:ji.JspNode,CFormButton:Oi.FormButton,CFormatDate:_r.CFormatDate,CFormatSufRate:_r.CFormatSufRate,CFormatGrowthRate:_r.CFormatGrowthRate,CFormatVal:_r.CFormatVal},yr={install:function(t){t.prototype.goBack=function(){window.history.go(-1)},t.prototype.handleError=function(t){console.warn(t)},t.prototype.getLoginUser=function(){return o()},t.prototype.toggleFullScreen=function(){var t=document.getElementById("p-layout");t.classList.contains("p-full-screen")?t.classList.remove("p-full-screen"):t.classList.add("p-full-screen")},t.prototype.message=function(t){ao(t)},t.prototype.messageSuccess=function(t){oo(t)},t.prototype.messageWarn=function(t){io(t)},t.prototype.messageError=function(t){ro(t)},t.prototype.notify=function(t){so(t)},t.prototype.notifySuccess=function(t){lo(t)},t.prototype.notifyWarn=function(t){co(t)},t.prototype.notifyError=function(t){uo(t)},Ot()(br).forEach(function(e){t.component(e,br[e])})}},Cr=n("tPIw");L.default.config.productionTip=!1,L.default.use(Ja.a),L.default.use(yr),L.default.use(Cr.a),no.bootstrap();var Mr=new L.default({el:"#app",router:Wa,template:"<App/>",components:{App:J}}),wr=e.default=Mr},NJSI:function(t,e){},P1oP:function(t,e){},QqUY:function(t,e){},RJZj:function(t,e){},TeIJ:function(t,e){},"Xuo/":function(t,e){},Y5JI:function(t,e,n){"use strict";var a=n("Ml+6"),o={name:"pingwaves",props:{fov:{type:Number,default:120},color:{type:String,default:"FFFFFF"},separation:{type:Number,default:40},amountx:{type:Number,default:100},amounty:{type:Number,default:90}},data:function(){return{container:null,camera:null,scene:new a.b,particles:[],renderer:null,windowHalfX:window.innerWidth/2,windowHalfY:window.innerHeight/2,mouseX:85,mouseY:-342,count:0}},methods:{init:function(){this.container=document.getElementById("pingwaves"),this.camera=new a.a(this.fov,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.z=1e3,this.color=this.color.replace("#","");for(var t=new a.d({color:parseInt("0x"+this.color)}),e=0,n=void 0,o=0;o<this.amountx;o++)for(var i=0;i<this.amounty;i++)n=this.particles[e]=new a.c(t),e++,n.position.x=o*this.separation-this.amountx*this.separation/2,n.position.z=i*this.separation-this.amountx*this.separation/2,this.scene.add(n);this.renderer=new a.e({alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(16777215,0),this.container.appendChild(this.renderer.domElement),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),document.addEventListener("touchstart",this.onDocumentTouchStart,!1),document.addEventListener("touchmove",this.onDocumentTouchMove,!1),window.addEventListener("resize",this.onWindowResize,!1)},onDocumentMouseMove:function(t){this.mouseX=t.clientX-this.windowHalfX},onDocumentTouchStart:function(t){1===t.touches.length&&(t.preventDefault(),this.mouseX=t.touches[0].pageX-this.windowHalfX)},onDocumentTouchMove:function(t){1===t.touches.length&&(t.preventDefault(),this.mouseX=t.touches[0].pageX-this.windowHalfX)},onWindowResize:function(){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position);for(var t=0,e=void 0,n=0;n<this.amountx;n++)for(var a=0;a<this.amounty;a++)e=this.particles[t],t++,e.position.y=50*Math.sin(.3*(n+this.count))+50*Math.sin(.5*(a+this.count)),e.scale.x=e.scale.y=2*(Math.sin(.3*(n+this.count))+1)+2*(Math.sin(.5*(a+this.count))+1);this.renderer.render(this.scene,this.camera),this.count+=.1}},mounted:function(){this.$nextTick(function(){this.init(),this.animate()})}},i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticStyle:{height:"100%",width:"100%",position:"absolute"},attrs:{id:"pingwaves"}})},r=[],s={render:i,staticRenderFns:r},d=s,l=n("VU/8"),c=l(o,d,!1,null,null,null);e.a=c.exports},Y9ze:function(t,e){},"ZIQ+":function(t,e){},cbjb:function(t,e){},cugv:function(t,e){},"diU/":function(t,e){},e0XP:function(t,e){},eEAO:function(t,e){},gQ8a:function(t,e){},iVb1:function(t,e){},p5qK:function(t,e){},"qRK+":function(t,e){},tO0n:function(t,e){},tpxg:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.506c57e41e1e84bff30d.js.map